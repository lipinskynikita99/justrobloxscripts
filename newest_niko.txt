--// ULTIMATE FRISK PROJECT VERY COOL AND BEING FINISHED!!

--// Version 0.7!


--|| Useable chat colors: (1,0,0), (1,1,1), (1, 0.7, 0.7) pink, (255, 128, 1) Orange must use fromRGB and not new, (255, 100, 100) pinkish red

local changeMap = false

local niko = true

--// Services

local plrs = game:GetService("Players")
local light = game:GetService("Lighting")
local rep = game:GetService("ReplicatedStorage")
local starter = game:GetService("StarterGui")
local tweenS = game:GetService("TweenService")
local uis = game:GetService("UserInputService")
local txtS = game:GetService("TextService")
local debris = game:GetService("Debris")

--// Variables to save for performance

local tweeninfo = TweenInfo.new
local taskwait = task.wait
local taskspawn = task.spawn
local cf = CFrame.new
local angles = CFrame.Angles
local mathrand = math.random
local mathrad = math.rad
local vector = Vector3.new

--// Variables

local params = RaycastParams.new()
params.FilterDescendantsInstances = {workspace:WaitForChild("Map")}
params.FilterType = Enum.RaycastFilterType.Whitelist
local remotes = rep:WaitForChild("Remotes")
local mainModule = require(rep:WaitForChild("ClientModules").MainModule)
local frame = game:GetObjects("rbxassetid://9725827795")[1]
local clawsModel = game:GetObjects("rbxassetid://9417360888")[1]
local effectsOverhaul = game:GetObjects("rbxassetid://9417322036")[1]
local auraModel = game:GetObjects("rbxassetid://9417360354")[1]
workspace.FallenPartsDestroyHeight = "-nan"
local changed = {}

for i,v in pairs(effectsOverhaul:GetChildren()) do
	local old = rep.Effects:FindFirstChild(v.Name)
	if old then
		old:Destroy()
		v.Parent = rep.Effects
		changed[v.Name] = true
	end
end

if changeMap then
	local map = game:GetObjects("rbxassetid://8275170235")[1]
	workspace.Terrain:Clear()
	workspace:WaitForChild("Map"):WaitForChild("Model"):Destroy()
	map.Parent = workspace.Map
end
local plr = plrs.LocalPlayer
local pass = getrenv()._G.Pass
local currentIndex = 0
local timesinc = 0
local deb = false
local sit = false
local maxIndex = 1
local currentPhaseBuff = 1
local timesIncreased = 0
local buffed = 0
local locked
local currentModule
local currentScript
local lastAdded
local realLast
local block
local fun
local index

local toDestroy = {StunEffect=true,PerfectBlockCD=true,Hit=true,DrainStamina=true,DrainSprint=true,Debounce=true,HyperGonerMiniGame=true,WhiteScreen=true}


local animations = {
	Idle = "rbxassetid://6416819199",
	Walk = "rbxassetid://4370512420",
	Run = "rbxassetid://4370518984",
	Block = "rbxassetid://8692122621",
}
--[[
local animations = {
	Idle = "rbxassetid://9574470881",
	Walk = "rbxassetid://5079260989",
	Run = "rbxassetid://6136042922",
	Block = "rbxassetid://8692122621",
}]]



local Ballet = {
    Light1 = "rbxassetid://9326818610",
    Light2 = "rbxassetid://9326831263",
    Light3 = "rbxassetid://9326843694",
    Light4 = "rbxassetid://9326850413",
    Light5 = "rbxassetid://9326865552",
}


local extendedCombatAnimations = {
	CrossCharaBlade = {
		Light1 = 5973915611,
		Light2 = 5973918259,
		Light3 = 5973919830,
		Light4 = 5973921873,
		Light5 = 5973923761,
		Light6 = 5973928930,
	},
	RealKnife = {
		Light1 = 6546406634,
		Light2 = 6547224791,
		Light3 = 6547356057,
		Light4 = 6547635642,
		Light5 = 6547714151,
	},
	RealKnife2 = {
		Light1 = 6996147456,
		Light2 = 6996150488,
		Light3 = 6996154689,
		Light4 = 6996156784,
	},
	BettySythe = {
		Light1 = 9553528649,
		Light2 = 9553537858,
		Light3 = 9553540664,
		Light4 = 9553544133,
		--Light5 = 5941495736,
		--Light6 = 5941498513,
	},
	RoseSword = {
		Light1 = 4689497544,
		Light2 = 4689500600,
		Light3 = 4689503513,
		Light4 = 4689505222,
		Light5 = 4689506806,
		Light6 = 4689531984,
	},
	GTFriskSword = {
		Light1 = 5657141412,
		Light2 = 5657142368,
		Light3 = 5657143572,
		Light4 = 5657144478,
		Light5 = 5657145846,
		Light6 = 5657146851,
	},
	ChaosSaber = {
		Light1 = 4456884092,
		Light2 = 4456890962,
		Light3 = 4456894133,
		Light4 = 4456898259,
		Light5 = 4456890962,
		Light6 = 4456901030
	},
	SakuyaKnife = {
		Light1 = 6154047231,
		Light2 = 6154049326,
		Light3 = 6154055740,
		Light4 = 6154055740,
		Light5 = 6154055740,
		Light6 = 6154060166,
	}
}

local songList = {
	{0,getcustomasset('BloodFlow.mp3')},
	{10,getcustomasset('Sahara.mp3')},
	{50,getcustomasset('Rain.mp3')}, 
	{80,getcustomasset('Sleep.mp3')},
	{190,getcustomasset('G_R_E_E_T_I_N_G_S_.mp3'),0.8},
	{350,getcustomasset('Syrx.mp3 ')},
}

maxIndex = #songList
damageInc = 1 + #songList

print("Niko loaded bish.")

light.Brightness = 2
light.Ambient = Color3.fromRGB(100,100,100)
light.OutdoorAmbient = Color3.fromRGB(150,150,150)
light.Blur.Enabled = false
light.Bloom.Intensity = 1
light.ColorCorrection.Brightness = 0
light.ColorCorrection.Contrast = 0.1
light.ColorCorrection.Saturation = 0.2


function arlol(htime, atype, heffect, hanim, sounde, vel, dmg, lol)
    for i,v in pairs(game.Workspace:GetChildren()) do 
        if v ~= plr.Character and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Data") then
            local vector = (plr.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position)
            if vector.Magnitude <= 7 then
            local f1 = getrenv()._G.Pass
            local f2 = v
            local f3 = 
                {
                    ["HitTime"] = htime, 
                    ["Type"] = atype, 
                    ["HitEffect"] = heffect, 
                    ["HurtAnimation"] = hanim, 
                    ["Velocity"] = vel,
                    ["Position"] = lol,
                    ["CombatInv"] = true,
                    ["Effect"] = "SussyDmg",
                    ["BlockAble"] = false,
                    ["Sound"] = sounde, 
                    ["Damage"] = dmg
                }
            local Event = game:GetService("ReplicatedStorage").Remotes.Damage
            Event:InvokeServer(f1,f2,f3)
            break
            end
        end
    end
end
local ds = {game:GetService("ReplicatedStorage").Sounds.Punch, game:GetService("ReplicatedStorage").Sounds.Knockback}
local hanim = game:GetService("ReplicatedStorage").Animations.HurtAnimations
local hsound = game:GetService("ReplicatedStorage").Sounds
local noanim = 0
local nosound = game:GetService("ReplicatedStorage").RogueSounds.Poison


--[[spawn(function()
local Player = game.Players.LocalPlayer
local guiCheck
local Loaded = false
guiCheck = Player.PlayerGui.ChildRemoved:Connect(function(Child)
    if Child.Name == "CharacterSelection" then
        task.wait() 
        Loaded = true
        guiCheck:Disconnect()
    end
end)
repeat task.wait()  until Loaded
end)]]


--// Functions

local function getDummy()
	local dummy
	for i,v in pairs(workspace:GetChildren()) do
		if v.Name:match("Dummy") and not plrs:FindFirstChild(v.Name) and v.Name ~= "DodgingDummy" and v.PrimaryPart then
			dummy = v
			break
		end
	end
	return dummy
end

local function weld(parent,part0,part1,c0,c1)
	local weld=Instance.new("Weld")
	weld.Parent=parent
	weld.Part0=part0
	weld.Part1=part1
	weld.C0=c0
	weld.C1=c1
	return weld
end

local function rayCast(Pos, Dir, Max, Ignore)
	return game:service("Workspace"):FindPartOnRay(Ray.new(Pos, Dir.unit * (Max or 999.999)), Ignore) 
end

local function QuaternionFromCFrame(cf) 
	local mx, my, mz, m00, m01, m02, m10, m11, m12, m20, m21, m22 = cf:components() 
	local trace = m00 + m11 + m22 
	if trace > 0 then 
		local s = math.sqrt(1 + trace) 
		local recip = 0.5/s 
		return (m21-m12)*recip, (m02-m20)*recip, (m10-m01)*recip, s*0.5 
	else 
		local i = 0 
		if m11 > m00 then
			i = 1
		end
		if m22 > (i == 0 and m00 or m11) then 
			i = 2 
		end 
		if i == 0 then 
			local s = math.sqrt(m00-m11-m22+1) 
			local recip = 0.5/s 
			return 0.5*s, (m10+m01)*recip, (m20+m02)*recip, (m21-m12)*recip 
		elseif i == 1 then 
			local s = math.sqrt(m11-m22-m00+1) 
			local recip = 0.5/s 
			return (m01+m10)*recip, 0.5*s, (m21+m12)*recip, (m02-m20)*recip 
		elseif i == 2 then 
			local s = math.sqrt(m22-m00-m11+1) 
			local recip = 0.5/s return (m02+m20)*recip, (m12+m21)*recip, 0.5*s, (m10-m01)*recip 
		end 
	end 
end

local function QuaternionToCFrame(px, py, pz, x, y, z, w) 
	local xs, ys, zs = x + x, y + y, z + z 
	local wx, wy, wz = w*xs, w*ys, w*zs 
	local xx = x*xs 
	local xy = x*ys 
	local xz = x*zs 
	local yy = y*ys 
	local yz = y*zs 
	local zz = z*zs 
	return cf(px, py, pz,1-(yy+zz), xy - wz, xz + wy,xy + wz, 1-(xx+zz), yz - wx, xz - wy, yz + wx, 1-(xx+yy)) 
end

local function QuaternionSlerp(a, b, t) 
	local cosTheta = a[1]*b[1] + a[2]*b[2] + a[3]*b[3] + a[4]*b[4] 
	local startInterp, finishInterp; 
	if cosTheta >= 0.0001 then 
		if (1 - cosTheta) > 0.0001 then 
			local theta = math.acos(cosTheta) 
			local invSinTheta = 1/math.sin(theta) 
			startInterp = math.sin((1-t)*theta)*invSinTheta 
			finishInterp = math.sin(t*theta)*invSinTheta  
		else 
			startInterp = 1-t 
			finishInterp = t 
		end 
	else 
		if (1+cosTheta) > 0.0001 then 
			local theta = math.acos(-cosTheta) 
			local invSinTheta = 1/math.sin(theta) 
			startInterp = math.sin((t-1)*theta)*invSinTheta 
			finishInterp = math.sin(t*theta)*invSinTheta 
		else 
			startInterp = t-1 
			finishInterp = t 
		end 
	end 
	return a[1]*startInterp + b[1]*finishInterp, a[2]*startInterp + b[2]*finishInterp, a[3]*startInterp + b[3]*finishInterp, a[4]*startInterp + b[4]*finishInterp 
end

local function clerp(a,b,t) 
	local qa = {QuaternionFromCFrame(a)}
	local qb = {QuaternionFromCFrame(b)} 
	local ax, ay, az = a.x, a.y, a.z 
	local bx, by, bz = b.x, b.y, b.z
	local _t = 1-t
	return QuaternionToCFrame(_t*ax + t*bx, _t*ay + t*by, _t*az + t*bz,QuaternionSlerp(qa, qb, t)) 
end 
pcall(function()
	game:GetService("ScriptContext"):SetTimeout(2)
end)

local mapPos
if workspace:WaitForChild("Map"):FindFirstChild("MapCFrame") then
        mapPos = workspace:WaitForChild("Map"):FindFirstChild("MapCFrame").Value.Position
    else
    task.spawn(function()
        repeat task.wait() until plr.Character
        mapPos = plr.Character.HumanoidRootPart.CFrame
    end)
end


local function createRandoms()
	local slashes = {}
	local con = plr.Character.Attacks.ChildAdded:Connect(function(ch)
		if ch.Name == "KnifeSlashChara" then
			ch.Name = "Random"
			ch:WaitForChild("Hitted"):Destroy()
			ch:WaitForChild("Touch"):Destroy()
			ch:WaitForChild("Weld"):Destroy()
			ch:WaitForChild("HitBox"):Destroy()
			table.insert(slashes,ch)
		end
	end)
	taskspawn(function()
		while true do
			taskspawn(function()
				remotes.FriskMoves:InvokeServer({pass, "RealKnifeSlashes" })
			end)
			taskwait(0.1)
			if #slashes > 21 then break end
		end
		con:Disconnect()
	end)
	taskspawn(function()
		repeat taskwait() until #slashes >= 1
		while true do
			taskwait(.07)
			local existing = 0
			for i,v in pairs(slashes) do
				if v and v.Parent then
					v.Position = mapPos + vector(mathrand(-2100,2100),mathrand(-2100,2100),mathrand(-2100,2100))
					existing = existing + 1
				end
			end
			if existing == 0 then createRandoms() break end
		end
	end)
end

local function createAura()
	auraModel.PrimaryPart.CFrame = plr.Character.HumanoidRootPart.CFrame
	auraModel.Name = "Aura"
	auraModel.Parent = plr.Character
	local lol = 0
	local gottem = 0
	local bigslashes = {}
	local con = plr.Character.Attacks.ChildAdded:Connect(function(ch)
		if ch.Name == "KnifeSlashChara" then
			ch:WaitForChild("Hitted"):Destroy()
			ch:WaitForChild("Touch"):Destroy()
			ch:WaitForChild("Weld"):Destroy()
			ch:WaitForChild("HitBox"):Destroy()
			for i,v in pairs(auraModel:GetChildren()) do
				if v:IsA("MeshPart") and v.Name ~= "Aura" then
					ch.Name = "Aura"
					v.Name = "Aura"
					bigslashes[ch] = v
					gottem = gottem + 1
					break
				end
			end
		end
	end)
	local canCheck = false
	taskspawn(function()
		while true do
			taskspawn(function()
				remotes.FriskMoves:InvokeServer({pass, "RealKnifeSlashes" })
			end)
			taskwait(0.5)
			if gottem == 20 then break end
		end
		con:Disconnect()
		canCheck = true
	end)
	taskspawn(function()
		while auraModel and auraModel.Parent do
			local res = workspace:Raycast(plr.Character.HumanoidRootPart.Position,Vector3.new(0,-999,0),params)
			local pos = plr.Character.HumanoidRootPart.Position - Vector3.new(0,4,0)
			if res and res.Position then
				pos = res.Position
			end
			auraModel.PrimaryPart.CFrame = CFrame.new(pos) * CFrame.Angles(0,math.rad(lol),0)
			lol = lol + 10
			task.wait()
			local current = 0
			for i,v in pairs(bigslashes) do
				if v and v.Parent then 
					current = current + 1
					i.CFrame = v.CFrame * CFrame.new(math.sin(tick())*45,0.2,0)
				end
			end
			if canCheck and current < 20 then
				canCheck = false
				auraModel:Destroy()
				for i,v in pairs(plr.Character.Attacks:GetChildren()) do
					if v.Name == "Aura" then v:Destroy() end
				end
				task.wait(2)
				createAura()
				break
			end
		end
	end)
end

local function createClaws()
	local s,e = pcall(function()
		local sine = 0
		local change = 1
		local val = 0
		local idle = 0
		local RootPart = plr.Character.HumanoidRootPart
		local Anim = "Idle"
		local claws = clawsModel:Clone()
		claws:SetPrimaryPartCFrame(plr.Character.Torso.CFrame)
		local weld = Instance.new("WeldConstraint")
		weld.Part0 = plr.Character.Torso
		weld.Part1 = claws.HumanoidRootPart
		weld.Parent = claws
		local originalHip = 0
		claws.Parent = plr.Character
		local handleweld = claws:WaitForChild("HandleBack"):WaitForChild("Weld")
		local Handleweld = claws:WaitForChild("HandleRight"):WaitForChild("Weld")
		local Handle2weld = claws:WaitForChild("HandleLeft"):WaitForChild("Weld")
		local gottem = 0
		local bigslashes = {}
		local con = plr.Character.Attacks.ChildAdded:Connect(function(ch)
			taskwait()
			if ch.Name == "KnifeSlashChara" then
				ch:WaitForChild("Hitted"):Destroy()
				ch:WaitForChild("Touch"):Destroy()
				ch:WaitForChild("Weld"):Destroy()
				ch:WaitForChild("HitBox"):Destroy()
				for i,v in pairs(claws:GetChildren()) do
					if v:IsA("MeshPart") and v.Name ~= "Partnered" then
						ch.Name = "Partnered"
						v.Name = "Partnered"
						bigslashes[ch] = v
						gottem = gottem + 1
						break
					end
				end
			end
		end)
		local canCheck = false
		taskspawn(function()
			while true do
				taskspawn(function()
					remotes.FriskMoves:InvokeServer({pass, "RealKnifeSlashes" })
				end)
				taskwait(0.5)
				if gottem == 18 then break end
			end
			con:Disconnect()
			canCheck = true
		end)
		taskspawn(function()
			while claws and claws.Parent do
				taskwait()
				sine = sine + change
				local torvel=plr.Character.Humanoid.WalkSpeed
				local velderp=RootPart.Velocity.y
				local hitfloor,posfloor=rayCast(RootPart.Position,(cf(RootPart.Position,RootPart.Position - Vector3.new(0,1,0))).lookVector,4,plr.Character)
				if (torvel<1) then
					idle=idle+1
				else
					idle=0
				end
				if RootPart.Velocity.y > 1 and hitfloor==nil and idle < 1000 then 
					Anim="Jump"
					handleweld.C0=clerp(handleweld.C0,cf(0,0,0)*angles(math.rad(20),math.rad(0),math.rad(0)),.2)
					Handleweld.C0=clerp(Handleweld.C0,cf(0,0,0)*angles(math.rad(20),math.rad(20),math.rad(0)),.2)
					Handle2weld.C0=clerp(Handle2weld.C0,cf(0,0,0)*angles(math.rad(20),math.rad(-20),math.rad(0)),.2)
				elseif RootPart.Velocity.y < -1 and hitfloor==nil and idle < 1000 then 
					Anim="Fall"
					handleweld.C0=clerp(handleweld.C0,cf(0,0,-1)*angles(math.rad(-20),math.rad(0),math.rad(0)),.2)
					Handleweld.C0=clerp(Handleweld.C0,cf(0,-1,0)*angles(math.rad(-20),math.rad(-10),math.rad(0)),.2)
					Handle2weld.C0=clerp(Handle2weld.C0,cf(0,-1,0)*angles(math.rad(-20),math.rad(10),math.rad(0)),.2)
				elseif (torvel<1 and idle < 1000) or (idle >= 1000) then
					Anim="Idle"
					change=0.5
					if idle>=1000 then
						handleweld.C0=clerp(handleweld.C0,cf(0,1.5+2.5*math.cos(sine/62*2),0)*angles(math.rad(90),math.rad(0),math.rad(60-180*math.cos(sine/50))),.3)
						Handleweld.C0=clerp(Handleweld.C0,cf(0,-0.5-0.85*math.cos(sine/62*2),0)*angles(math.rad(0),math.rad(-0-180*2.5*math.cos(sine/62*2)),math.rad(0)),.4)
						Handle2weld.C0=clerp(Handle2weld.C0,cf(0,-0.5+0.85*math.cos(sine/48),0)*angles(math.rad(0),math.rad(-180-180*2.5*math.cos(sine/62*2)),math.rad(180)),.3)
						plr.Character.Humanoid.HipHeight = 8	
					else
						handleweld.C0=clerp(handleweld.C0,cf(0-1*math.cos(sine/40),0-0.5*math.cos(sine/20),0)*angles(math.rad(-5+5*math.cos(sine/20)),math.rad(0),math.rad(0)),.2)
						Handleweld.C0=clerp(Handleweld.C0,cf(0,-1.5,0)*angles(math.rad(0),math.rad(-0-180*2.5*math.cos(sine/62*2)),math.rad(0)),.4)
						Handle2weld.C0=clerp(Handle2weld.C0,cf(0,1.5,0)*angles(math.rad(0),math.rad(-180-180*2.5*math.cos(sine/62*2)),math.rad(180)),.3)
						plr.Character.Humanoid.HipHeight = originalHip
					end
				elseif (torvel>1 and torvel<11 and hitfloor~=nil) or (plr.Character.Humanoid.WalkSpeed > 0 and hitfloor ~= nil) then
					Anim="Walk"
					change=0.8
					handleweld.C0=clerp(handleweld.C0,cf(0,0,0)*angles(math.rad(0),math.rad(0),math.rad(0)),.2)
					Handleweld.C0=clerp(Handleweld.C0,cf(0-.5*math.cos(sine/30),0,0-.5*math.cos(sine/30))*angles(math.rad(0+1*math.cos(sine/30)),math.rad(-30),math.rad(0-1*math.cos(sine/30))),.2)
					Handle2weld.C0=clerp(Handle2weld.C0,cf(0+.5*math.cos(sine/36),0,0+.5*math.cos(sine/36))*angles(math.rad(0-3*math.cos(sine/36)),math.rad(30),math.rad(0-3*math.cos(sine/36))),.2)
				elseif torvel>=11 and hitfloor~=nil then
					Anim="Run"
					change=1
					handleweld.C0=clerp(handleweld.C0,cf(0,0,0)*angles(math.rad(0),math.rad(0),math.rad(0)),.2)
					Handleweld.C0=clerp(Handleweld.C0,cf(0-.5*math.cos(sine/30),0,0-.5*math.cos(sine/30))*angles(math.rad(0+1*math.cos(sine/30)),math.rad(-60),math.rad(0-1*math.cos(sine/30))),.2)
					Handle2weld.C0=clerp(Handle2weld.C0,cf(0+.5*math.cos(sine/36),0,0+.5*math.cos(sine/36))*angles(math.rad(0-3*math.cos(sine/36)),math.rad(60),math.rad(0-3*math.cos(sine/36))),.2)
				end
				local current = 0
				for i,v in pairs(bigslashes) do
					if i and i.Parent then
						i.CFrame = v.CFrame
						current = current + 1
					end
				end
				if canCheck and current < 18 then
					canCheck = false
					claws:Destroy()
					for i,v in pairs(plr.Character.Attacks:GetChildren()) do
						if v.Name == "Partnered" then v:Destroy() end
					end
					task.wait(2)
					createClaws()
				end
			end
		end)
	end)
	warn(s,e)
end

function phase4lol()
taskspawn(function()
function playanim(animationthing)
local Anim = Instance.new("Animation")
Anim.AnimationId = animationthing
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
end
local Player = game.Players.LocalPlayer
local Char = Player.Character
local Humanoid = Char.Humanoid

local RS = game:GetService("ReplicatedStorage")
local TS = game:GetService("TweenService")

local function anchorChar(bool)
    local bp = {
        "Head", 
        "Torso", 
        "Left Arm", 
        "Right Arm", 
        "Left Leg", 
        "Right Leg"
    }
    for i,v in pairs(Char:GetChildren()) do
        if table.find(bp, v.Name) then
            v.Anchored = bool
        end
    end
end

local heartColor = Color3.fromRGB(0,0,0)
Humanoid:ChangeState(Enum.HumanoidStateType.Dead)
anchorChar(true)

for i,v in pairs(Char:GetDescendants()) do
    if v:IsA("BasePart") or v:IsA("Decal") then
        local oldTransparency = Instance.new("NumberValue")
        oldTransparency.Name = "OldTransparency"
        oldTransparency.Value = v.Transparency
        oldTransparency.Parent = v
        TS:Create(v, TweenInfo.new(1), {Transparency = 1}):Play()
    end
end
task.wait(1)
local Heart = RS.Resources.OtherEffects["Heart"]:Clone()
Heart.CFrame = Char.HumanoidRootPart.CFrame
Heart.Color = heartColor
Heart.Transparency = 0
--Heart.Attachment.ParticleEmitter.Enabled = true
Heart.Parent = Char
task.wait()
local oldCFrame1 = Heart.CFrame
local offset = 25
for i = 1,30 do
    Heart.CFrame = oldCFrame1 * CFrame.new(math.random(-offset,offset)/100,math.random(-offset,offset)/100,math.random(-offset,offset)/100)
    task.wait(0.025)
end
Heart.CFrame = oldCFrame1
Heart.Transparency = 1

local playerdeathSFX = RS.Resources.Sounds["Player_Death"]:Clone()
playerdeathSFX.TimePosition = 0.5
playerdeathSFX.Parent = Char.HumanoidRootPart
playerdeathSFX:Play()
game.Debris:AddItem(playerdeathSFX, 0.5)
local BrokenHeart = RS.Resources.OtherEffects["Broken_Heart"]:Clone()
BrokenHeart.CFrame = oldCFrame1
BrokenHeart.Color = heartColor
BrokenHeart.Parent = Char
task.wait(0.75)
for i = 1,40 do
    BrokenHeart.CFrame = oldCFrame1 * CFrame.new(math.random(-offset,offset)/100,math.random(-offset,offset)/100,math.random(-offset,offset)/100)
    task.wait(0.025)
end
BrokenHeart.CFrame = oldCFrame1
--task.wait(0.25)
BrokenHeart.Transparency = 1
Heart.Transparency = 0

RS.Remotes.Events:FireServer({getrenv()._G.Pass, "Chatted", "But it refused.", Color3.new(1, 0, 0)})
local pingSFX = RS.Sounds["Ping"]:Clone()
pingSFX.TimePosition = 0.25
pingSFX.Parent = Char.HumanoidRootPart
pingSFX:Play()
game.Debris:AddItem(pingSFX, 1)
local heartformSFX = RS.Sounds["HeartForm2"]:Clone()
heartformSFX.Parent = Char.HumanoidRootPart
heartformSFX:Play()
game.Debris:AddItem(heartformSFX, 1)
local FakeHeart = RS.Resources.OtherEffects["Heart"]:Clone()
FakeHeart.CFrame = oldCFrame1
FakeHeart.Color = Color3.fromRGB(255,0,0)
FakeHeart.Parent = Char

Heart.Attachment.ParticleEmitter.Enabled = true
task.delay(0.25,function()
    Heart.Attachment.ParticleEmitter.Enabled = false
end)

TS:Create(FakeHeart, TweenInfo.new(1), {Size = FakeHeart.Size * 2, Transparency = 1}):Play()
task.wait(1.5)
anchorChar(false)
Heart:Destroy()
BrokenHeart:Destroy()
FakeHeart:Destroy()
local sliceSFX = RS.Sounds.ChaosSaberSlice:Clone()
sliceSFX.PlaybackSpeed = 0.5
sliceSFX.Parent = Char.HumanoidRootPart
sliceSFX:Play()
game.Debris:AddItem(sliceSFX, 3)
Char.HumanoidRootPart.Anchored = false
Humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
for i,v in pairs(Char:GetDescendants()) do
    if (v:IsA("BasePart") or v:IsA("Decal")) and v:FindFirstChild("OldTransparency") then
        TS:Create(v, TweenInfo.new(1), {Transparency = v["OldTransparency"].Value}):Play()
        v["OldTransparency"]:Destroy()
    end
end
local invEffect = true
task.delay(2,function()
    invEffect = false
end)
task.spawn(function()
playanim("rbxassetid://9583650187")
wait(2.2)
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://6158204971"
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
k.TimePosition = 3.9
k:AdjustSpeed(0.0)
playanim("rbxassetid://9522869549")
wait(2)
createAura()
k:AdjustSpeed(1)
end)
task.spawn(function()
    while invEffect == true do
        for i,v in pairs(getconnections(RS.Remotes.Effects.OnClientEvent)) do
            v:Fire({"HighlightBody", Char, 0.2, Color3.new(1,1,1), 0.5, nil, nil, nil, nil})
        end
        task.wait(0.4)
    end
end)
end)
end


local function createAnims()
	for i,v in pairs(extendedCombatAnimations) do
		local folder = Instance.new("Folder")
		folder.Name = i.."Combat"
		for name,id in pairs(v) do
			local anim = Instance.new("Animation")
			anim.Name = name
			anim.AnimationId = "rbxassetid://"..id
			anim.Parent = folder
		end
		folder.Parent = currentModule.Animations
	end
end

local function destroy(obj)
	for i=1,2 do -- sometimes it errors because its deleted too fast and goes back to their parent
		obj:Destroy()
		taskwait()
	end
end

local function onAdded(obj)
	if toDestroy[obj.Name] then
		destroy(obj)
	elseif obj.Name ~= "RoseShield" and (rep.Weapons:FindFirstChild(obj.Name) and not rep.Weapons[obj.Name]:FindFirstChild("Armor")) or (obj.Name == "ToughGloves" or obj.Name == "Stick") then
		if lastAdded and lastAdded ~= obj then
			lastAdded:Destroy()
			lastAdded = nil
		end
		if extendedCombatAnimations[obj.Name] or obj.Name == "Stick" then
			lastAdded = obj
		else
			realLast = obj.Name
		end		
	else
		obj:GetPropertyChangedSignal("Name"):Connect(function()
			if toDestroy[obj.Name] then
				destroy(obj)
			end
		end)
	end
end

local function kill(diffsounds,bypassblock)
	local victim = locked
	if not victim then
		local nearestMag = 20
		local nearest
		for i,v in pairs(workspace:GetChildren()) do
			local hum = v:FindFirstChildOfClass("Humanoid")
			if hum and v:FindFirstChild("Head") and v.Name ~= plr.Name then
				pcall(function()
					local mag = (v.HumanoidRootPart.Position - plr.Character.HumanoidRootPart.Position).Magnitude
					if mag <= nearestMag then
						nearestMag = mag
						nearest = v
					end
				end)
			end
		end
		victim = nearest
	end
	if not victim then return end
	local tab = {
		HitEffect = "BurstEffect", 
		Type = "Knockback", 
		HitTime = 1,
		CombatInv = true,
		Velocity = Vector3.new(0,10,0),
		Damage = "-nan(ind)",
	}
	tab.Sound = rep.RogueSounds.BaneSound
	if diffsounds then
		tab.Sound = diffsounds
	end
	if bypassblock then
		tab.BlockAble = false
	end
	if remotes.Damage:InvokeServer(pass,victim,tab,"Lord") then return victim end
end

local function increaseAttackOld(times)
	taskspawn(function()
		for i=1,times or 1 do
			remotes.FriskMoves:InvokeServer({pass,"EquipArmor","CowboyHat"})
			for i,v in pairs(plr.Character:GetChildren()) do
				if v.Name == "CowboyHat" and v:FindFirstChild("Armor") and v:FindFirstChild("Hat") then
					v.Armor:Destroy()
					v.Hat:Destroy()
					if times >= 20 then
						buffed = buffed + 1
					end
					break
				end
			end
		end
		remotes.FriskMoves:InvokeServer({pass,"EquipArmor","CowboyHat"})
	end)
end


local function increaseAttack(times) -- lmao unpatched
	for i,v in pairs(plr.Character:GetChildren()) do
		if v:FindFirstChild("Armor") then
			v.Armor:Destroy()
			debris:AddItem(v,0.05)
			if times >= 20 then
				buffed = buffed + 1
			end
		end
	end
	taskwait(0.1)
	taskspawn(function()
		for i=1,times or 1 do
			remotes.FriskMoves:InvokeServer({pass,"EquipArmor","CowboyHat"})
			for i,v in pairs(plr.Character:GetChildren()) do
				if v.Name == "CowboyHat" and v:FindFirstChild("Armor") and v:FindFirstChild("Hat") then
					v.Armor:Destroy()
					v.Hat:Destroy()
					debris:AddItem(v,0.05)
					if times >= 20 then
						buffed = buffed + 1
					end
					break
				end
			end
		end
		taskwait(0.1)
		for i,v in pairs(plr.Character:GetChildren()) do
			if v:FindFirstChild("Armor") then
				v.Armor:Destroy()
				v.Hat:Destroy()
				debris:AddItem(v,0.05)
				if times >= 20 then
					buffed = buffed + 1
				end
			end
		end
		taskwait(0.15)
		remotes.FriskMoves:InvokeServer({pass,"EquipArmor","CowboyHat"})
	end)
end

local function resetAttackBuff()
	if buffed ~= 0 then
		for i,v in pairs(plr.Character:GetChildren()) do
			if v.Name == "ItemBoost(Attack)" and v.Value == 35 then
				if buffed < (1 - timesIncreased) then
					break
				end
				v:Destroy()
				buffed = buffed - 1
			end
		end
		buffed = 0
	end
end

--// Overwrite Module ---------------------------

local module = {}

function module.HoverEffect()
	taskspawn(function()
		local result = workspace:Raycast(plr.Character.Torso.Position, Vector3.new(0, -1, 0).unit * 10, params)
		if result and result.Instance then
		end
	end)
end

function module.HoverForwardEffect()
	taskspawn(function()
		local result = workspace:Raycast(plr.Character.HumanoidRootPart.Position, Vector3.new(0, -1, 0).unit * 10, params)
		if result and result.Instance then
		end
	end)
end

function module.Damage(p1, p2)
	if not locked then
		for i, v in pairs(workspace:GetChildren()) do
			if v:FindFirstChild("HumanoidRootPart") and v ~= plr.Character.HumanoidRootPart.Parent and (plr.Character.HumanoidRootPart.Position + plr.Character.HumanoidRootPart.CFrame.lookVector * 5 - v.HumanoidRootPart.Position).magnitude <= 6 then
				p2.BlockAble = false
				p2.CombatInv = true
				if remotes.Damage:InvokeServer(pass, v, p2) then
					return v
				else
					break
				end
			end
		end
	else
		p2.BlockAble = false
		p2.CombatInv = true
		remotes.Damage:InvokeServer(pass, locked, p2)
	end
	return nil
end

local function moveForward(p3, p4, p5)
	if p4 then
		local part, pos = workspace:FindPartOnRayWithWhitelist(Ray.new(plr.Character.HumanoidRootPart.Position, p4), p5)
		if part then
			p3.Position = pos - plr.Character.HumanoidRootPart.CFrame.lookVector * 1 + Vector3.new(0, 1, 0)
		else
			return
		end
	else
		local part, pos = workspace:FindPartOnRayWithWhitelist(Ray.new(plr.Character.HumanoidRootPart.Position, plr.Character.HumanoidRootPart.CFrame.lookVector.unit * 10), p5)
		if part then
			p3.Position = pos - plr.Character.HumanoidRootPart.CFrame.lookVector * 1
		end
		return
	end
end

local gotIT
local function removeCooldown()
	for k,func in pairs(getgc()) do
		if type(func) == "function" then
			if getfenv(func).script ~= nil and typeof(getfenv(func).script) == "Instance" and getfenv(func).script == currentScript then
				local b = debug.getupvalues(func)
				pcall(function()
					if not gotIT or gotIT ~= currentScript then
						local info = debug.getinfo(func)
						if info.name and info.name == "takeStamina" then
							gotIT = currentScript
							taskspawn(function()
								while true do
									if currentScript and currentScript.Parent then
										func(10000000,0)
									else
										break
									end
									taskwait(.02)
								end
							end)
						end
					end
				end)
				for i,v in pairs(b) do
					if typeof(v) == "table" then
						if v["Transformation"] ~= nil or v["DashAttack"] ~= nil or v["Teleport"] ~= nil then
							taskspawn(function()
								while true do
									if currentScript and currentScript.Parent then
										for a,b in pairs(v) do
											v[a] = true
										end
									else
										break
									end
									taskwait(.02)
								end
							end)
							return true
						end
					elseif typeof(v) == "string" and v == "" then
						pcall(function()
							fun = func
							index = i
							debug.setupvalue(func,i,"EmptyGun")
						end)
					end
				end
			end
		end
	end
end

local weaponsounds = {
	Stick = rep.Sounds.Punch, 
	ToyKnife = rep.Sounds.KnifeHit, 
	ToughGloves = rep.Sounds.Kick, 
	BalletShoes = rep.Sounds.Kick, 
	TornNotebook = rep.Sounds.Punch, 
	BurntPan = { rep.Sounds.Kick, rep.Sounds.ShieldBlock }, 
	EmptyGun = rep.Sounds.Punch, 
	WornDagger = rep.Sounds.KnifeHit,
	RealKnife = { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash },
	RelKnife = rep.Sounds.KnifeHit,
	CrossCharaBlade = rep.Sounds.KnifeHit,
	RoseSword = rep.Sounds.KnifeHit,
	GTFriskSword = rep.Sounds.KnifeHit,
	SakuyaKnife = rep.Sounds.KnifeHit,
}

local hiteffects = {
	ToyKnife = "KnifeHitEffect", 
	WornDagger = "KnifeHitEffect", 
	RelKnife = "KnifeHitEffect"
}

local function moveForward(p10)
	local part, pos = workspace:FindPartOnRay(Ray.new(plr.Character.HumanoidRootPart.Position, plr.Character.HumanoidRootPart.CFrame.lookVector.unit * 6), plr.Character)
	if part then
		warn(part)
		p10.Position = pos - plr.Character.HumanoidRootPart.CFrame.lookVector * 1.5
	end
end

function module.Combat(p8, p9)
	local l__Humanoid__35 = plr.Character.Humanoid
	local v36 = currentModule.Animations.BasicCombat
	if p9 ~= "" and currentModule.Animations:FindFirstChild(p9 .. "Combat") then
		v36 = currentModule.Animations:FindFirstChild(p9 .. "Combat")
	end
	if v36:FindFirstChild(p8) then
		local v37 = l__Humanoid__35:LoadAnimation(v36[p8])
		if v37.Length <= 0 then
			while true do
				taskwait()
				if v37.Length > 0 then
					break
				end		
			end
		end
		v37:Play(0.1)
		v37:AdjustSpeed(1.1)
		for v38, v39 in pairs(plr.Character.HumanoidRootPart:GetChildren()) do
			if v39.Name == "Client" then
				v39:Destroy()
			end
		end
		local v40 = Instance.new("BodyPosition")
		v40.Name = "Client"

		local v44
		local v45 = "LightHitEffect"
		if p9 ~= "" then
			v44 = weaponsounds[p9]
			if hiteffects[p9] then
				v45 = hiteffects[p9]
			end
		end
		taskspawn(function()
			if v36 == currentModule.Animations.StickCombat then
			    spawn(function()
			    plr.Character.Stick.Name = "Handle"
			    end)
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
				if p8 == "Light1" then
					taskwait(0.05)
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					return
				end
				--local Anim = lolzstuff.Light1 local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim) k:Play()
				if p8 == "Light5" then
					taskwait(0.15)
					return
				end
				if p8 == "Light6" then
					taskwait(0.05)
					local Anim = lolzstuff.Light6 local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim) k:Play()
					return
				end
					if p8 == "Light7" then
					taskwait(0.05)
					local Anim = lolzstuff.Light7 local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim) k:Play()
					return
					end
				if p8 == "Light8" then
					taskwait(0.05)
					local Anim = lolzstuff.Light8 local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim) k:Play()
					return
				end
			elseif v36 == currentModule.Animations.ToyKnifeCombat or v36 == currentModule.Animations.WornDaggerCombat or v36 == currentModule.Animations.RelKnifeCombat then
				if p8 == "Light1" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-30)) })
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(10)) })
					return
				end
				if p8 == "Light3" then
					taskwait(0.1)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-5)) })
					taskwait(0.25)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-5)) })
					return
				elseif p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-40)) })
					return
				end
			elseif v36 == currentModule.Animations.ToughGlovesCombat then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.fromRGB(255, 128, 1) }); end);
				if p8 == "Light1" then
					taskwait(0.05)
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(0, 0, math.rad(30)) })
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(0, 0, math.rad(-25)) })
					return
				end
				if p8 == "Light5" then
					taskwait(0.15)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255,215,0), CFrame.Angles(0, 0, math.rad(-30)) })
					return
				end
			elseif v36 == currentModule.Animations.BalletShoesCombat then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
				if p8 == "Light1" then
					taskwait(0.2)
					arlol(1, "Normal", "LightHitEffect"..math.random(2,3), hanim["Hurt"..math.random(1,3)], {hsound.Swing2, hsound.Punch}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(0, -4, math.rad(8)) })
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					arlol(1, "Normal", "LightHitEffect"..math.random(2,3), hanim.SweepHurt, {hsound.Swing2, hsound.Kick}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(-2.5, -6, math.rad(20)) })
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					arlol(1, "Normal", "LightHitEffect"..math.random(2,3), hanim["Hurt"..math.random(1,3)], {hsound.Swing2, hsound.Punch}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255,215,0), CFrame.Angles(0, -3, math.rad(8)) }) --CFrame.Angles(0, -3, math.rad(8))
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					arlol(1, "Normal", "LightHitEffect"..math.random(2,3), hanim["Hurt"..math.random(1,3)], {hsound.Swing2, hsound.Kick}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(1, 2, math.rad(-8)) })
					return
				elseif p8 == "Light5" then
					taskwait(0.15)
					arlol(1, "Normal", "LightHitEffect"..math.random(2,3), hanim.SweepHurt, {hsound.Swing2, hsound.Kick}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255,215,0), CFrame.Angles(1, 2, math.rad(-8)) })
					wait(0.2)
					arlol(1, "Knockback", "HeavyHitEffect", hanim.Knockback2, {hsound.Swing2, hsound.Punch}, plr.Character.HumanoidRootPart.CFrame.lookVector * 50, 40)
					return
				end
			elseif v36 == currentModule.Animations.TornNotebookCombat then
			    spawn(function()
			    plr.Character.TornNotebook.Base.Name = "Handle"
			    end)
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
				if p8 == "Light1" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(98, 37, 209), CFrame.Angles(0, 0, math.rad(30)) })
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(98, 37, 209), CFrame.Angles(0, 0, math.rad(10)) })
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(98, 37, 209), CFrame.Angles(0, 0, math.rad(-25)) })
					return
				elseif p8 == "Light5" then
					taskwait(0.15)
					return
				end
			elseif v36 == currentModule.Animations.RealKnifeCombat then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
			    if p8 == "Light1" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light5" then
					taskwait(0.15)
					arlol(1, "Knockback", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 60, 40)
					return
				end
			elseif v36 == currentModule.Animations.RealKnife2Combat then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
			    if p8 == "Light1" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					arlol(1, "Normal", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					return
				end
				if p8 == "Light4" then
					taskwait(0.15)
					arlol(1, "Knockback", "KnifeHitEffect", hanim["Hurt"..math.random(1,3)], { rep.Sounds.KnifeHit, rep.Sounds.Knife_Slash }, plr.Character.HumanoidRootPart.CFrame.lookVector * 60, 40)
					return
				end
			elseif v36 == currentModule.Animations.BurntPanCombat then
			    spawn(function()
			    plr.Character["Burnt Pan"].Name = "Handle"
			    end)
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
				if p8 == "Light1" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(0, 255, 0), CFrame.Angles(0, 0, math.rad(-14)) })
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(0, 255, 0), CFrame.Angles(0, 0, math.rad(0)) })
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(0, 255, 0), CFrame.Angles(0, 0, math.rad(-34)) })
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(0, 255, 0), CFrame.Angles(0, 0, math.rad(-13)) })
					return
				end
				if p8 == "Light5" then
					taskwait(0.15)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(0, 255, 0), CFrame.Angles(0, 0, math.rad(-90)) })
					return
				end
			elseif v36 == currentModule.Animations.EmptyGunCombat then
			    if niko then
			     plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.fromRGB(255, 100, 100) }); end);
			     else
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.fromRGB(255, 128, 1) }); end);
			    end
				if p8 == "Light1" then
					taskwait(0.05)
					return
				end
				if p8 == "Light2" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 255, 0), CFrame.Angles(0, 0, math.rad(0)) })
					return
				end
				if p8 == "Light3" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 255, 0), CFrame.Angles(0, 0, math.rad(-34)) })
					return
				end
				if p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 255, 0), CFrame.Angles(0, 0, math.rad(-13)) })
					return
				elseif p8 == "Light5" then
					taskwait(0.15)
				end
			elseif p9 == "BettySythe" then
			    spawn(function()
			    plr.Character.BettySythe.BettySythe.Name = "Handle"
			    end)
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
				if p8 == "Light1" then
					taskwait(0.05)
					arlol(1, "Normal", "BurstEffect", hanim["Hurt"..math.random(1,3)], {hsound.Swing, hsound.SwordHit}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 5, math.rad(-10)) });
				end;
				if p8 == "Light2" then
					taskwait(0.25)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, -6, math.rad(4)) });
					arlol(1, "Normal", "BurstEffect", hanim["Hurt"..math.random(1,3)], {hsound.Swing, hsound.SwordHit}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
					taskwait(0.4)
					moveForward(v40, nil, u8);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, -6, math.rad(4)) });
					arlol(1, "Normal", "BurstEffect", hanim["Hurt"..math.random(1,3)], {hsound.Swing, hsound.SwordHit}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
				end;
				if p8 == "Light3" then
					taskwait(0.3)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, -8, math.rad(-6)) });
					arlol(1, "Normal", "BurstEffect", hanim["Hurt"..math.random(1,3)], {hsound.Swing, hsound.SwordHit}, plr.Character.HumanoidRootPart.CFrame.lookVector * 4, 10)
				end;
				if p8 == "Light4" then
					taskwait(0.05)
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, -3, math.rad(-6)) });
					arlol(1, "Knockback", "BiggerBurstEffect", hanim.Knockback2, {hsound.Swing, hsound.SwordHit}, plr.Character.HumanoidRootPart.CFrame.lookVector * 50, 10)
				end;
			elseif p9 == "GTFriskSword" then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
				if p8 == "Light2" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-30)) });
					return;
				end;
				if p8 == "Light3" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-10)) });
					return;
				end;
				if p8 == "Light4" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-40)) });
					return;
				end;
				if p8 == "Light5" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-15)) });
					return;
				end;
				if p8 == "Light6" then
					taskwait(0.35);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(255, 0, 0), CFrame.Angles(0, 0, math.rad(-90)) });
				end;
			elseif p9 == "CrossCharaBlade" then
			    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
				if p8 == "Light1" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(-10)) });
				end;
				if p8 == "Light2" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(10)) });
				end;
				if p8 == "Light3" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(-25)) });
				end;
				if p8 == "Light4" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(25)) });
				end;
				if p8 == "Light5" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(-25)) });
				end;
				if p8 == "Light6" then
					taskwait(0.05);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing1, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(-90)) });
					taskwait(0.33);
					remotes.Events:FireServer({pass, "SlashEffect", currentModule.Animations.Slash.Swing2, Color3.fromRGB(171, 35, 255), CFrame.Angles(0, 0, math.rad(-53)) });
				end;
			end
		end)
		local u8 = {}
		pcall(function()
			for v46, v47 in pairs(workspace:GetChildren()) do
				if v47:FindFirstChild("HumanoidRootPart") and v47.Name ~= plr.Name and v47:FindFirstChild("Torso") and v47:FindFirstChild("Head") then
					table.insert(u8, v47.HumanoidRootPart)
					table.insert(u8, v47.Torso)
					table.insert(u8, v47.Head)
					table.insert(u8, v47["Left Arm"])
					table.insert(u8, v47["Right Arm"])
					table.insert(u8, v47["Right Leg"])
					table.insert(u8, v47["Left Leg"])
				end
			end
		end)
		if v44 then
			v37.KeyframeReached:Connect(function(p11)
				if p9 == "CrossCharaBlade" then
				    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
				    --1, 0.7, 0.7
					if p11 == "1" then
						taskspawn(function()
							rep.Remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwoosh });
						end);
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "KnifeHitEffect", 
							Sound = rep.Sounds.SwordHit, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.5, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "2" then
						taskspawn(function()
							rep.Remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwoosh });
						end);
						moveForward(v40, nil, u8);
						v37:AdjustSpeed(0.2);
						local v43 = module.Damage(plr.Character, {
							HitEffect = "KnifeHitEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.SwordHit }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 40/damageInc
						});
						v37:AdjustSpeed(1);
						if v43 then
							mainModule.shakeScreen("BigExplosion");
							return;
						end;
					elseif p11 == "3" then
						taskspawn(function()
							rep.Remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwoosh });
						end);
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect", 
							Sound = rep.Sounds.Punch, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.5, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					else
						if p11 == "4" then
							taskspawn(function()
								rep.Remotes.XSansMoves:InvokeServer({pass, "BoneCombat", CFrame.Angles(0, 0, 0) });
								taskwait(0.05);
								if module.Damage(plr.Character, {
									HitEffect = "HeavyHitEffect", 
									Sound = rep.Sounds.Knockback, 
									Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 1 + Vector3.new(0, 15, 0), 
									Type = "Knockback", 
									HitTime = 0.5, 
									HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
									VictimCFrame = nil, 
									Damage = 40/damageInc
									}) then
									mainModule.shakeScreen("Explosion");
								end;
							end);
							return;
						end;
						if p11 == "5" then
							taskspawn(function()
								rep.Remotes.XSansMoves:InvokeServer({pass, "BoneCombat2", CFrame.Angles(0, 0, 0) });
								taskwait(0.05);
								if module.Damage(plr.Character, {
									HitEffect = "HeavyHitEffect", 
									Sound = rep.Sounds.Knockback, 
									Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 30 + Vector3.new(0, 30, 0), 
									Type = "Knockback", 
									HitTime = 0.5, 
									HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
									VictimCFrame = nil, 
									Damage = 40/damageInc, 
									CombatInv = true
									}, 25) then
									mainModule.shakeScreen("Explosion");
								end;
							end);
						end;
					end;
				elseif p9 == "SakuyaKnife" then
				    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
					if p11 == "1" then
						taskspawn(function()
							remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.Swing2 });
						end);
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect", 
							Sound = rep.Sounds.Punch2, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.5, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 2
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "2" then
						moveForward(v40, nil, u8);
						taskspawn(function()
							remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSw });
						end);	
						if module.Damage(plr.Character, {
							HitEffect = "KnifeHitEffect", 
							Sound = rep.Sounds.SwordHit, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.5, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 4
							}) then
							mainModule.shakeScreen("Explosion");
							return;
						end;
					elseif p11 == "3" then
						taskspawn(function()
							remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.Swing2 });
						end);
						moveForward(v40, nil, u8);
						v37:AdjustSpeed(0.2);
						local v49 = module.Damage(plr.Character, {
							HitEffect = "BiggerBurstEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.Kick }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 4
						});
						v37:AdjustSpeed(1);
						if v49 then
							mainModule.shakeScreen("BigExplosion");
						end;
					end;
				elseif p9 == "GTFriskSword" then
				    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
					if p11 == "1" then
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect", 
							Sound = rep.Sounds.Kick, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.8, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "2" then
						taskspawn(function()
							remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwoosh });
						end);
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "KnifeHitEffect", 
							Sound = rep.Sounds.SwordHit, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.8, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "3" then
						taskspawn(function()
							remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwoosh });
						end);
						moveForward(v40, nil, u8);
						v37:AdjustSpeed(0.2);
						local v43 = module.Damage(plr.Character, {
							HitEffect = "KnifeHitEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.SwordHit }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 40/damageInc
						});
						v37:AdjustSpeed(1);
						if v43 then
							mainModule.shakeScreen("BigExplosion");
						end;
					end;
				elseif p9 == "RoseSword" then
				    plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0.7, 0.7) }); end);
					if p11 == "1" then
						plr.Character.Head:FindFirstChild("Swing2"):Play();
						moveForward(v40, nil, u8);
						task.spawn(function()
							rep.Remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.SwordSwoosh, plr.Character.Head });
						end);
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect", 
							Sound = rep.Sounds.SwordHit, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "2" then
						plr.Character.Head:FindFirstChild("Swing2"):Play();
						moveForward(v40, nil, u8);
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.ShieldBlock }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump");
							return;
						end;
					elseif p11 == "3" then
						moveForward(v40, nil, u8);
						v37:AdjustSpeed(0.2);
						task.spawn(function()
							rep.Remotes.Functions:InvokeServer({pass, "PlaySound", rep.Sounds.KnifeSwing2, plr.Character.Head });
						end);
						local v45 = module.Damage(plr.Character, {
							HitEffect = "BladeHitEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.ShieldBlock }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 40/damageInc
						});
						v37:AdjustSpeed(1);
						if v45 then
							mainModule.shakeScreen("Explosion");
						end;
					end;
				else
					if p11 == "1" then
						plr.Character.Head:FindFirstChild("Swing2"):Play()
						if module.Damage(plr.Character, {
							HitEffect = v45, 
							Sound = v44, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.65, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump")
							return
						end
					elseif p11 == "2" then
						plr.Character.Head:FindFirstChild("Swing2"):Play()
						v37:AdjustSpeed(0.2)
						local v48 = module.Damage(plr.Character, {
							HitEffect = "HeavyHitEffect", 
							Sound = v44, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 40/damageInc
						})
						v37:AdjustSpeed(1)
						if v48 then
							mainModule.shakeScreen("Explosion")
							return
						end
					elseif p11 == "3" then
						plr.Character.Head:FindFirstChild("Swing2"):Play()
						if module.Damage(plr.Character, {
							HitEffect = "LightHitEffect3", 
							Sound = v44, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Light", 
							HitTime = 0.25, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump")
							return
						end
					elseif p11 == "4" then
						taskspawn(function()
						    local urcframe = plr.Character["HumanoidRootPart"].CFrame
                            function coolthing(part1, part2, location, timed, effectname, timelength)
                            if timed == false then
                            for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do v:Fire({part1, part2, location}) end
                            else
                            for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do v:Fire({part1, part2, location}) end
                            wait(timelength)
                            game.Players.LocalPlayer.Character.Effects[effectname]:Destroy()
                            end
                            end
                            coolthing("Model", "BurstEffect1", urcframe * CFrame.new(0,0,-2.5) * CFrame.Angles(3,0,0), false, "DreamIsCool", 0)
						    coolthing("Model", "SpeedLines", urcframe, false, "DreamIsCool", 0)
							remotes.FriskMoves:InvokeServer({pass, "FireGun", plr.Character.EmptyGun.Main.CFrame - Vector3.new(0, 0.2, 0) })
						end)
						if module.Damage(plr.Character, {
							HitEffect = "YellowHitEffect", 
							Sound = v44, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 5, 
							Type = "Normal", 
							HitTime = 0.65, 
							HurtAnimation = rep.Animations.HurtAnimations["Hurt" .. math.random(1, 3)], 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 10/damageInc
							}) then
							mainModule.shakeScreen("Bump")
							return
						end
					elseif p11 == "5" then
						taskspawn(function()
						    local urcframe = plr.Character["HumanoidRootPart"].CFrame
                            function coolthing(part1, part2, location, timed, effectname, timelength)
                            if timed == false then
                            for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do v:Fire({part1, part2, location}) end
                            else
                            for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do v:Fire({part1, part2, location}) end
                            wait(timelength)
                            game.Players.LocalPlayer.Character.Effects[effectname]:Destroy()
                            end
                            end
                            coolthing("Model", "BurstEffect1", urcframe * CFrame.new(0,0,-2.5) * CFrame.Angles(3,0,0), false, "DreamIsCool", 0)
						    coolthing("Model", "SpeedLines", urcframe, false, "DreamIsCool", 0)
							remotes.FriskMoves:InvokeServer({pass, "FireGun", plr.Character.EmptyGun.Main.CFrame - Vector3.new(0, 0.2, 0) })
						end)
						if module.Damage(plr.Character, {
							HitEffect = "YellowHitEffect", 
							Sound = { rep.Sounds.Knockback, rep.Sounds.ShieldBlock }, 
							Velocity = plr.Character.HumanoidRootPart.CFrame.lookVector * 90, 
							Type = "Knockback", 
							HitTime = 1, 
							HurtAnimation = rep.Animations.HurtAnimations.Knockback2, 
							VictimCFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(180), 0) + plr.Character.HumanoidRootPart.CFrame.lookVector * 6, 
							Damage = 40/damageInc
							}) then
							mainModule.shakeScreen("Explosion")
						end
					end
				end
			end)
		else
			mainModule.CombatAnimation(v37, plr.Character, v40, {})
		end
		local l__LockOn__49 = plr.Backpack.Main.LockOnScript.LockOn
		if l__LockOn__49.Value then
			plr.Character.HumanoidRootPart.CFrame = cf(plr.Character.HumanoidRootPart.Position, Vector3.new(l__LockOn__49.Value.HumanoidRootPart.Position.X, plr.Character.HumanoidRootPart.Position.Y, l__LockOn__49.Value.HumanoidRootPart.Position.Z))
		end
		l__Humanoid__35:ChangeState(Enum.HumanoidStateType.Flying)
		local v50, v51 = game:GetService("Workspace"):FindPartOnRay(Ray.new(plr.Character.HumanoidRootPart.CFrame.p, Vector3.new(0, -1, 0).unit * 4), plr.Character)
		if v50 then
			rep.Remotes.Effects:FireServer({pass, "Particle", "SmallForwardSmokeParticle", cf(v51, v51 + plr.Character.HumanoidRootPart.CFrame.lookVector * 10) * CFrame.Angles(math.rad(90), math.rad(90), math.rad(0)), 0.1 })
		end
		v40.MaxForce = Vector3.new(100000, 100000, 100000)
		v40.P = 30000
		v40.Parent = plr.Character.HumanoidRootPart
		local v52 = Instance.new("BodyGyro")
		v52.Name = "Client"
		v52.MaxTorque = Vector3.new(10000, 10000, 10000)
		v52.CFrame = plr.Character.HumanoidRootPart.CFrame
		v52.Parent = plr.Character.HumanoidRootPart
		local v53, v54 = workspace:FindPartOnRayWithWhitelist(Ray.new(plr.Character.HumanoidRootPart.Position, plr.Character.HumanoidRootPart.CFrame.lookVector.unit * 10), u8)
		if v53 then
			v40.Position = v54 - plr.Character.HumanoidRootPart.CFrame.lookVector * 1.5
		else
			v40.Position = plr.Character.HumanoidRootPart.Position + plr.Character.HumanoidRootPart.CFrame.lookVector * 10
		end
		while true do
			moveForward(v40, nil, u8)
			taskwait()
			if v37.Length - 0.16 < v37.TimePosition then
				break
			end
			if not v37.isPlaying then
				break
			end
		end
		v37:AdjustSpeed(0.8)
		l__Humanoid__35:ChangeState(Enum.HumanoidStateType.Freefall)
		debris:AddItem(v40, 0.5)
		v52:Destroy()
	end
end

-------------------------------------------------
rep.DefaultChatSystemChatEvents.SayMessageRequest:Destroy()

local function onChar(char)
	local s,e = pcall(function()
		local main = plr.Backpack:WaitForChild("Main")
		local fscript = main:WaitForChild("FriskMoves")
		local anims = fscript:WaitForChild("Animations")
		local lol = Instance.new("StringValue")
		lol.Name = "Battling"
		lol.Parent = char
		for name,id in pairs(animations) do -- overwrite animations
			anims[name].AnimationId = id
		end

		currentModule = fscript:WaitForChild("ModuleScript")
		currentScript = fscript

		local lock = main:WaitForChild("LockOnScript"):WaitForChild("LockOn")
		lock:GetPropertyChangedSignal("Value"):Connect(function()
			locked = lock.Value
		end)

		local head = char:WaitForChild("Head")
		local hb = head:WaitForChild("HealthBar")
		local stuff = hb:WaitForChild("Frame")
		local scr = stuff:WaitForChild("Script")
		local hl = stuff:WaitForChild("HealthLabel")
        --[[plr.Character.Effects.ChildAdded:Connect(function(v)
            if v.Name == "Cloned" then
                v:Destroy()
        end
        end)
        plr.Character.Head.ChildAdded:Connect(function(v)
            if v.Name == "LevelUp" and v:IsA("Audio") then
                v:Destroy()
        end
        end)]]
		repeat taskwait() until hl.Text == "20/20" -- waits until we make sure our health loaded properly

		scr:Destroy()
		pcall(function()
			plr.PlayerScripts.Music.Parent = rep
		end)
		char.Humanoid.HealthChanged:Connect(function(health)
			if health ~= 1 then
				char.Humanoid.Health = 1
				char.Humanoid:ChangeState(Enum.HumanoidStateType.Flying)
			end
		end)
		if plr.Character.Data.Lv.Value ~= 20 then
			remotes.Events:FireServer({pass,"Damage",math.huge,plr.Character})
			repeat task.wait() until plr.Character.Data.Lv.Value == 20
		end
		repeat task.wait() until plr.Character:FindFirstChild("DarkHead")
		if char:FindFirstChild("ForceField") then
			char.ForceField:Destroy()
		end
		taskwait(.1)
		pcall(function()
			remotes.Functions:InvokeServer({pass, "Reset"})
		end)
game.Workspace.Map["MapCFrame"]:Destroy()
game.Workspace.Map["MapSize"]:Destroy()
game:GetService("Workspace").Map.Name = "MainMap"
used = false
used2 = false
map1 = false
map2 = false
local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
    if k == [[\]] then
if used == nil then return end
if used == false then
if map1 == false then map1 = true local map = game:GetObjects("rbxassetid://8275170235")[1] map.Parent = workspace end
wait(1)
used = true
used2 = nil
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(141.161, -3.26278, -224.844), Vector3.new(0.48431766629219, 0, 0.92320096492767))
elseif used == true then
if map1 == true then game:GetService("Workspace").Map:Destroy() map1 = false end
used = false
used2 = false
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(801.72, 680.275, -655.516), Vector3.new(0.48431766629219, 0, 0.92320096492767))
end
end
end)
mouse.KeyDown:Connect(function(k) 
    if k == "]" then
if used2 == nil then return end
if used2 == false then
if map2 == false then map2 = true local map2 = game:GetObjects("rbxassetid://5140457581")[1] map2.Parent = workspace end
used2 = true
used = nil
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(17.8047, 4.09991, -409.56), Vector3.new(0.48431766629219, 0, 0.92320096492767))
elseif used2 == true then
if map2 == true then game:GetService("Workspace").Model:Destroy() map2 = false end
used2 = false
used = false
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(801.72, 680.275, -655.516), Vector3.new(0.48431766629219, 0, 0.92320096492767))
end
end
end)
taskspawn(function()
while true do
wait()
for _,v in pairs(workspace:GetDescendants()) do
if v.Name == 'Rock' then
v:Destroy()
end
end
end
end)
		local nt = stuff.PName:Clone()
		nt.Parent = stuff
		nt.Name = "NewPName"
		taskwait(.1)
		stuff.PName:Destroy()
		if niko then
		nt.Text = "Niko"
		else
		nt.Text = "Average NAN Enjoyer"
		end
		if niko == true then
repeat task.wait() until game:IsLoaded()
local player = game.Players.LocalPlayer;local char = player.Character
game:GetObjects("rbxassetid://9030907640")[1].Parent = game.Workspace
char.Shirt.ShirtTemplate = "http://www.roblox.com/asset/?id=4986322564"
char.Pants.PantsTemplate = "http://www.roblox.com/asset/?id=8502370488"
local dustaura = game:GetService("ReplicatedStorage").Resources.Character.Auras.AsrielAura
dustaura:Clone()
dustaura.Head.BodyAura.Parent = char.Head
dustaura.Torso.BodyAura.Parent = char.Torso
dustaura.Torso.BodyAura.Parent = char.Torso
dustaura:FindFirstChild("Left Arm").BodyAura.Parent = char:FindFirstChild("Left Arm")
dustaura:FindFirstChild("Right Arm").BodyAura.Parent = char:FindFirstChild("Right Arm")
dustaura:FindFirstChild("Left Leg").BodyAura.Parent = char:FindFirstChild("Left Leg")
dustaura:FindFirstChild("Right Leg").BodyAura.Parent = char:FindFirstChild("Right Leg")
game.Workspace.AsrielAura.Name = "aura"
game.Workspace.aura.Head.BodyAura.Parent = char.Head
game.Workspace.aura.Head.BodyAura.Parent = char.Head
game.Workspace.aura.Torso.BodyAura.Parent = char.Torso
game.Workspace.aura.Torso.BodyAura.Parent = char.Torso
game.Workspace.aura["Left Arm"].BodyAura.Parent = char["Left Arm"]
game.Workspace.aura["Left Arm"].BodyAura.Parent = char["Left Arm"]
game.Workspace.aura["Right Arm"].BodyAura.Parent = char["Right Arm"]
game.Workspace.aura["Right Arm"].BodyAura.Parent = char["Right Arm"]
game.Workspace.aura["Left Leg"].BodyAura.Parent = char["Left Leg"]
game.Workspace.aura["Left Leg"].BodyAura.Parent = char["Left Leg"]
game.Workspace.aura["Right Leg"].BodyAura.Parent = char["Right Leg"]
game.Workspace.aura["Right Leg"].BodyAura.Parent = char["Right Leg"]
game.Workspace.aura:Destroy()
for _,v in pairs(game:GetService("ReplicatedStorage").Resources.Character.Accessories.SFChara.Scarf:GetChildren()) do
if v.Name == 'RainbowScarf' then
clone1 = v:Clone()
clone1.Name = 'Scarf'
clone1.Parent = char
weld = Instance.new('Weld',clone1)
weld.Part0 = char['Scarf']
weld.Part1 = char['Head']
weld.C1 = CFrame.new(-0,-0.85,-0)*CFrame.Angles(0,3,0)
clone1.Transparency = 0
char.Scarf.Color = Color3.fromRGB(98, 37, 209)
char.Scarf.Mesh.Scale = Vector3.new(1,1,0.8)
char.Scarf.Decal.Texture = ""
char.Scarf.Mesh.TextureId = ""
end
end
taskspawn(function()
taskwait(3)
local Player = game.Players.LocalPlayer
local Char = Player.Character
local HumanoidRootPart = Char.HumanoidRootPart
local Torso = Char.Torso

function funnysoundeffect()
local sd = game:GetService("ReplicatedStorage").Sounds.KnifeBurst:Clone()
sd.Parent = HumanoidRootPart
sd.Playing = true
sd.TimePosition = 0
--[[local args = { [1] = { [1] = getrenv()._G.Pass, [2] = "TakeStamina", [3] = 50 } }
game:GetService("ReplicatedStorage").Remotes.Functions:InvokeServer(unpack(args))]]

end


local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local bodyParts = {
    "Head",
    "Torso",
    "Right Arm",
    "Left Arm",
    "Right Leg",
    "Left Leg",
}

local slashes = {}
local slashIndex = Instance.new("NumberValue",Char)
local maxSlashes = 1
local getSlashes
local indexChanged

local mainAt = Instance.new("Attachment", HumanoidRootPart)
mainAt.Position = Vector3.new(0,0,0)
mainAt.Rotation = Vector3.new(0,0,0)
task.spawn(function()
    while task.wait() do
        mainAt.Orientation = mainAt.Orientation + Vector3.new(0,0,0)
    end
end)

getSlashes = Char.Effects.ChildAdded:Connect(function(Child)
    if Child.Name:match("YellowBlast") then
        Child:WaitForChild("Hitted"):Destroy()
        Child.Particle.Burst:Destroy()
        --Child:WaitForChild("BodyVelocity"):Destroy()
        
        local bv = Instance.new("BodyVelocity")
        bv.Name = "Client"
        bv.MaxForce = Vector3.one * math.huge
        bv.Velocity = Vector3.new(0,0,0)
        bv.Parent = Child
        
        Child.Name = "KnifeSlashCaught"
        
        table.insert(slashes, Child)
        slashIndex.Value=slashIndex.Value+1
    end
end)

indexChanged = slashIndex:GetPropertyChangedSignal('Value'):Connect(function()
    if slashIndex.Value >= maxSlashes and #slashes >= maxSlashes then
        getSlashes:Disconnect()
        for i,v in ipairs(slashes) do
            local mainPart = Char.HumanoidRootPart
            local cfloop
            local offset = 10
            task.spawn(function()
                while true do
                    if i == 1 then
                        v.CFrame = mainAt.WorldCFrame * CFrame.new(0,7,0) * CFrame.Angles(0,0,0)
                        task.wait()
                    end
                end
            end)
        end
        indexChanged:Disconnect()
        slashIndex:Destroy()
    end
end)
for i = 1, maxSlashes do
    coroutine.wrap(function()
        for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
v:Fire({"Particle","YellowBlast",game.Players.LocalPlayer.Character.Torso.CFrame})
end
funnysoundeffect()
    end)()
end
end)
end
		spawn(function()
            local lol = Instance.new('Color3Value') lol.Parent = game:GetService("Players").LocalPlayer.Character lol.Name = 'namecolor' lol.Value = Color3.fromRGB(255,0,0)
	        spawn(function() local ti = TweenInfo.new(1,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut,-1,true,0) local tween1 = game:GetService('TweenService'):Create(lol, ti, {Value = Color3.fromRGB(1,1,1)}) tween1:Play()
	            while wait() do
	                game.Players.LocalPlayer.Character.Head.HealthBar.Frame.NewPName.TextColor3 = lol.Value
                    game.Players.LocalPlayer.Character.Head.HealthBar.Frame.NewPName.TextStrokeColor3 = lol.Value
                end
	        end)
        end)
		--plr.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ pass, "Chatted", p4, Color3.new(1, 0, 0) }); end);
		--nt.Text = "Niko"
		--nt.TextColor3 = Color3.new(0, 0, 0)
		--nt.TextStrokeColor3 = Color3.new(255, 0, 0)
		local lolzstuff = game:GetService("Players").LocalPlayer.Backpack.Main.FriskMoves.ModuleScript.Animations.StickCombat
		local lolzstuff2 = game:GetService("Players").LocalPlayer.Backpack.Main.FriskMoves.ModuleScript.Animations.BalletShoesCombat
		lolzstuff2.Light1.AnimationId = Ballet.Light1; lolzstuff2.Light2.AnimationId = Ballet.Light2; lolzstuff2.Light3.AnimationId = Ballet.Light3; lolzstuff2.Light4.AnimationId = Ballet.Light4; lolzstuff2.Light5.AnimationId = Ballet.Light5
		--local newanim1 = Instance.new("Animation",lolzstuff); newanim1.AnimationId = "rbxassetid://6154055740"; newanim1.Name = "Light6"
		local newanim2 = Instance.new("Animation",lolzstuff); newanim2.AnimationId = "rbxassetid://6154055740"; newanim2.Name = "Light7"
		local newanim3 = Instance.new("Animation",lolzstuff); newanim3.AnimationId = "rbxassetid://6154055740"; newanim3.Name = "Light8"
		remotes.Events:FireServer({pass,"Damage","-nan(ind)",plr.Character})
        taskwait()
        remotes.Events:FireServer({pass,"Damage","-nan(ind)",plr.Character})
		char.Humanoid.Health = 1
		local eftw = TweenInfo.new(0.5)
		char:WaitForChild("Effects").ChildAdded:Connect(function(ef)
			if changed[ef.Name] then
				if ef.Name == "HeavyHitEffect" then
					local heavy = ef:WaitForChild("Heavy")
					for i, v in ipairs(heavy.Attachment:GetChildren()) do
						v:Emit(15)
					end
					debris:AddItem(ef, 1)
				elseif ef.Name == "BurstEffect" or ef.Name == "BiggerBurstEffect" then
					ef:WaitForChild("Base"):WaitForChild("HITPE"):Emit(mathrand(6,11))
					debris:AddItem(ef,1.6)
				else
					ef:SetPrimaryPartCFrame(ef.PrimaryPart.CFrame * angles(mathrad(mathrand(-360,360)),mathrad(mathrand(-360,360)),mathrad(mathrand(-360,360))))
					local cfram = ef:WaitForChild("Base").CFrame
					local base = ef.Base
					local glare = ef:WaitForChild("Hit3")
					for i,v in pairs(ef:GetChildren()) do
						if v.Name == "Hit" then
							tweenS:Create(v, eftw, {
								CFrame = v.CFrame * cf(0, mathrand(3, 8), 0), 
								Size = vector(), 
								Transparency = 1
							}):Play()
						end
					end
					for i,v in pairs(base:GetChildren()) do
						v:Emit(mathrand(5,15))
					end
					glare.CFrame = cfram
					for i, v in ipairs(glare.Attachment:GetChildren()) do
						v:Emit(25)
					end
					debris:AddItem(ef, 1.5)
				end
			end
		end)
		char.Effects:ClearAllChildren()
		local stuff = require(currentModule)
		for i,v in pairs(stuff) do
			stuff[i] = module[i]
		end
		head:WaitForChild("Voice").SoundId = "rbxassetid://5093601873"
		plr.PlayerGui.WeaponSelector.Frame:Destroy()
		local pos = char.HumanoidRootPart.CFrame
		local dummy = getDummy()
		if not dummy then
			dummy = rep.Resources.MoveEffects.HateBall.HateBall
		end
		if dummy and dummy:FindFirstChild("HumanoidRootPart") then
			char:SetPrimaryPartCFrame(dummy.HumanoidRootPart.CFrame)
			taskwait(0.2)
			char:SetPrimaryPartCFrame(dummy.HumanoidRootPart.CFrame)
			taskspawn(function()
				remotes.Damage:InvokeServer(pass, dummy, {CombatInv=true,BlockAble=false,Type="Normal",Sound = {rep.Sounds.GTLevelUp,rep.Sounds.HyperGonerLaugh},Damage = 0,HitTime = 0,HurtAnimation = rep.Animations.HurtAnimations["Hurt1"],VictimCFrame = dummy.HumanoidRootPart.CFrame,Velocity=dummy.HumanoidRootPart.CFrame.LookVector,HitEffect="BurstEffect"})
			end)
			taskwait(0.09)
			remotes.Damage:InvokeServer(pass, dummy, {CombatInv=true,BlockAble=false,Type="Normal",Sound = {rep.Resources.Sounds.Music1,rep.Resources.Sounds.Music1},Damage = 0,HitTime = 0,HurtAnimation = rep.Animations.HurtAnimations["Hurt1"],VictimCFrame = dummy.HumanoidRootPart.CFrame,Velocity=dummy.HumanoidRootPart.CFrame.LookVector,HitEffect="BurstEffect"})
			taskwait(0.1)
			char:SetPrimaryPartCFrame(pos)
		end
		for i,v in pairs(char.HumanoidRootPart:GetChildren()) do
			if v.Name == "Music1" then v.Volume = 0.6 end
		end
		local newF = frame:Clone()
		newF.Visible = false
		newF.Parent = plr.PlayerGui.WeaponSelector
		local expBar = plr.PlayerGui.UI.Ui.ExpBar
		expBar.LocalScript:Destroy()
		remotes.FriskMoves:InvokeServer({pass,"EquipArmor","CowboyHat"})
		remotes.FriskMoves:InvokeServer({pass,"EquipWeapon","EmptyGun"})
		local uiscale = Instance.new("UIScale")
		uiscale.Scale = 0.6
		uiscale.Parent = plr.PlayerGui.WeaponSelector

		expBar.Lv:Destroy()
		expBar.LvText.Size = UDim2.new(0.5,0,4.148,0)
		expBar.LvText.Position = UDim2.new(-0.13,0,-6.303,0)
		expBar.LvText.TextXAlignment = Enum.TextXAlignment.Left
		expBar.LvText.TextColor3 = Color3.new(1,0,0)
		expBar.LvText.TextStrokeTransparency = 0
		expBar.LvText.Text = "Phase: 1"
		expBar.TextLabel.TextColor3 = Color3.new(1,0,0)
		expBar.TextLabel.TextStrokeTransparency = 0
		expBar.TextLabel.Text = "RAGE"
		expBar.Bar.BackgroundColor3 = Color3.new(1,0,0)
		expBar.Bar.BorderColor3 = Color3.new(0,0,0)
		expBar.Bar.BorderSizePixel = 1
		expBar.Bar.Size = UDim2.new(0.05,0,1,0)
		plr.PlayerGui.ChildAdded:Connect(onAdded)
		for i,v in pairs(newF:GetDescendants()) do
			if v:IsA("ImageButton") then
				local thing = v:FindFirstChild("TextLabel") or v:FindFirstChild("ImageLabel")
				local size = thing.Size
				v.MouseEnter:Connect(function()
					tweenS:Create(thing, tweeninfo(1, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
						Size = UDim2.new(size.X.Scale + 0.1, 0, size.Y.Scale + 0.1, 0)
					}):Play()
					newF[v.Parent.Name.."Selected"].Value = v.Name
				end)
				v.MouseLeave:Connect(function()
					tweenS:Create(thing, tweeninfo(1, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
						Size = size
					}):Play()
					newF[v.Parent.Name.."Selected"].Value = ""
				end)
			end
		end
		createAnims()
		--rep.Music.Parent = plr.PlayerScripts
		local musicLs = plr:WaitForChild("CharaPlaylist")
		local song = musicLs:WaitForChild("1A")
		local totalHits = 0
		local currentMax = songList[2][1]
		local currentRage = 0
		local lolDeb = false
		currentIndex = 0
		damageInc = 1 + maxIndex
		damageInc = damageInc - 1
		song.SoundId = songList[1][2]
		song.Volume = 2
		song.Looped = true
		song:Play()
		char.ChildAdded:Connect(function(ch) -- listens for stuff being added
			if ch.Name == "Hit" and not lolDeb then
				lolDeb = true
				if totalHits == 9 then
					local succ = false
					local timeout = false
					taskspawn(function()
						taskwait(3)
						timeout = true
					end)
					while not timeout do
						taskwait()
						pcall(function()
							local lol = kill({rep.Sounds.HyperGonerLaugh,rep.RogueSounds.ShineStab},true)
							if lol then
								timeout = true
								taskspawn(function()
									succ = kill({rep.Resources.Sounds.Music3,rep.Resources.Sounds.Music3},true)
									for i,v in pairs(char.HumanoidRootPart:GetChildren()) do
										if v.Name == "Music1" then v:Destroy() elseif v.Name == "Music3" then v.Volume = 0.6 end
									end
								end)
								local nm = lol.Name
								local p = plrs:GetPlayerFromCharacter(lol)
								if p then
									nm = p.DisplayName
								end
								remotes.Events:FireServer({pass,"Chatted","Target Eliminated: "..string.sub(nm,0,4)..".",Color3.new(1,0,0)})
								taskwait(3)
							end
						end)
					end
					if not succ then
						local pos = char.HumanoidRootPart.CFrame
						local dummy = getDummy()
						if not dummy then
							dummy = rep.Resources.MoveEffects.HateBall.HateBall
						end
						if dummy and dummy:FindFirstChild("HumanoidRootPart") then
							char:SetPrimaryPartCFrame(dummy.HumanoidRootPart.CFrame)
							taskwait(0.2)
							char:SetPrimaryPartCFrame(dummy.HumanoidRootPart.CFrame)
							taskspawn(function()
								remotes.Damage:InvokeServer(pass, dummy, {CombatInv=true,BlockAble=false,Type="Normal",Sound = {rep.Sounds.HyperGonerLaugh,rep.Sounds.GTLevelUp},Damage = 0,HitTime = 0,HurtAnimation = rep.Animations.HurtAnimations["Hurt1"],VictimCFrame = dummy.HumanoidRootPart.CFrame,Velocity=dummy.HumanoidRootPart.CFrame.LookVector,HitEffect="BurstEffect"})
							end)
							taskwait(0.1)
							remotes.Damage:InvokeServer(pass, dummy, {CombatInv=true,BlockAble=false,Type="Normal",Sound = {rep.Resources.Sounds.Music3,rep.Resources.Sounds.Music3},Damage = 0,HitTime = 0,HurtAnimation = rep.Animations.HurtAnimations["Hurt1"],VictimCFrame = dummy.HumanoidRootPart.CFrame,Velocity=dummy.HumanoidRootPart.CFrame.LookVector,HitEffect="BurstEffect"})
							taskwait(0.1)
							char.HumanoidRootPart.Anchored = false
							char:SetPrimaryPartCFrame(pos)
							for i,v in pairs(char.HumanoidRootPart:GetChildren()) do
								if v.Name == "Music1" then v:Destroy() elseif v.Name == "Music3" then v.Volume = 0.6 end
							end
						end
					end
				end
				totalHits = totalHits + 1 -- counts the hit
				currentRage = currentRage + 1
				for i,info in pairs(songList) do
					if totalHits == info[1] and currentIndex ~= info[1] then -- found a music
						currentIndex = info[1]
						damageInc = damageInc - 1
						for i=1,10 do
							taskspawn(function()
								remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
							end)
						end
						local nexts = songList[i + 1]
						if nexts then
							currentMax = nexts[1] - totalHits
							currentRage = 0
						end
						expBar.LvText.Text = "Phase: "..i
						if i ~= 6 then
							remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          + Damage Increased",Color3.fromRGB(255, 100, 100)})
							if i == 5 then
								createRandoms()
							elseif i == 4 then
								phase4lol()
								--createAura()
							end
						else
							taskspawn(function()
								pcall(function()
									remotes.Functions:InvokeServer({pass, "Reset"})
								end)
							end)
							createClaws()
							remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          + Damage Increased\n                          + Immortality",Color3.new(1,0,0)})
						end
						currentPhaseBuff = currentPhaseBuff + i
						increaseAttackOld(i)
						tweenS:Create(song,tweeninfo(0.5,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),{Volume = 0}):Play()
						taskwait(0.5)
						song:Stop()
						song.SoundId = info[2]
						song.PlaybackSpeed = info[3] or 1
						song:Play()
						tweenS:Create(song,tweeninfo(1,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),{Volume = 2.5}):Play()
						break
					end
				end
				tweenS:Create(expBar.Bar,tweeninfo(0.2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),{Size=UDim2.new(currentRage/currentMax,0,1,0)}):Play()
				lolDeb = false
			elseif ch.Name == "DarkHead" then
				taskwait()
				char.DarkHead.Part:Destroy()
			end
			onAdded(ch) -- check if has to destroy it
		end)
		char.DarkHead.Part:Destroy()
		repeat taskwait(1) until removeCooldown() == true
	end)
	warn(s,e)
end
local start = Instance.new("Animation")
start.AnimationId = "rbxassetid://7507477136"
local loop = Instance.new("Animation")
loop.AnimationId = "rbxassetid://7507481748"
local ending = Instance.new("Animation")
ending.AnimationId = "rbxassetid://7507485912"
local l
local a = ""
uis.InputBegan:Connect(function(i,s)
	if s then return end
	if i.KeyCode == Enum.KeyCode.T and not deb then
		if not sit then
			deb = true
			sit = true
			local s = plr.Character.Humanoid:LoadAnimation(start)
			l = plr.Character.Humanoid:LoadAnimation(loop)
			s:Play()
			s.Stopped:wait()
			l:Play()
			taskspawn(function()
				while sit do
					plr.Character.Humanoid.WalkSpeed = 0
					taskwait(0.05)
				end
			end)
			deb = false
		else
			deb = true
			local e = plr.Character.Humanoid:LoadAnimation(ending)
			e:Play()
			if l then
				l:Stop()
			end
			taskwait(0.5)
			sit = false
			deb = false
		end
	elseif i.KeyCode == Enum.KeyCode.K then
	    						pcall(function()
							local lol = kill({rep.Sounds.ChaosSaberStar,rep.Sounds.Shoot})
							if lol then
								taskspawn(function()
									succ = kill({rep.Resources.Sounds.Music3,rep.Resources.Sounds.Music3},true)
									for i,v in pairs(char.HumanoidRootPart:GetChildren()) do
										if v.Name == "Music1" then v:Destroy() elseif v.Name == "Music3" then v.Volume = 0.6 end
									end
								end)
								local nm = lol.Name
								local p = plrs:GetPlayerFromCharacter(lol)
								if p then
									nm = p.DisplayName
								end
								remotes.Events:FireServer({pass,"Chatted","[!]\n  Target Eliminated: "..string.sub(nm,0,4)..".",Color3.new(1,0,0)})
							end
						end)
	elseif i.KeyCode == Enum.KeyCode.D then
		a = a.."D"
	elseif i.KeyCode == Enum.KeyCode.A then
		a = a.."A"
	elseif i.KeyCode == Enum.KeyCode.W then
		a = a.."W"
	elseif i.KeyCode == Enum.KeyCode.S then
		a = a.."S"
	elseif i.KeyCode == Enum.KeyCode.J then
		if block == nil then
			remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          + AutoBlock",Color3.fromRGB(255, 100, 100)})
			local realWeapon
			for i,v in pairs(plr.Character:GetChildren()) do
				if not v:IsA("ValueBase") and v:FindFirstChild("Weapon") then
					realWeapon = v.Name
					break
				end
			end
			remotes.FriskMoves:InvokeServer({pass,"EquipWeapon","RoseShield"})
			if realWeapon then
				remotes.FriskMoves:InvokeServer({pass,"EquipWeapon",realWeapon})
			end
			remotes.Functions:InvokeServer({pass,"Blocking",true})
			block = plr.Character.Data.Blocking:GetPropertyChangedSignal("Value"):Connect(function()
				if not plr.Character.Data.Blocking.Value then
					repeat remotes.Functions:InvokeServer({pass,"Blocking",true}) taskwait() until plr.Character.Data.Blocking.Value
				end
			end)
		else
			remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          - AutoBlock",Color3.new(1,1,1)})
			local s = plr.Character:FindFirstChild("RoseShield")
			if s then
				s:Destroy()
			end
			block:Disconnect()
			block = nil
			remotes.Functions:InvokeServer({pass,"Blocking",false})
		end
	elseif i.KeyCode == Enum.KeyCode.P then
		if string.sub(a,#a - 5,#a) == "\68\68\65\87\65\83" then -- IF YOU EDIT YOU'RE GAY
			for i=1,10 do
				taskspawn(function()
					remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
				end)
			end
			increaseAttack(30)
			taskwait(3)
			remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          + Damage Increased",Color3.fromRGB(255, 100, 100)})
		end
	elseif i.KeyCode == Enum.KeyCode.N then
		if string.sub(a,#a - 5,#a) == "\68\68\65\87\65\83" then -- IF YOU EDIT YOU'RE GAY
			for i=1,10 do
				taskspawn(function()
					remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
				end)
			end
			remotes.Events:FireServer({pass,"Chatted","You really want to see me suffer...",Color3.new(1,0,0)})
			increaseAttack(2857)
		end
	elseif i.KeyCode == Enum.KeyCode.M then
		if buffed ~= 0 then
			remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          - Damage Decreased",Color3.new(1,1,1)})
			resetAttackBuff()
			timesIncreased = timesIncreased + 1
		end
	elseif i.KeyCode == Enum.KeyCode.KeypadZero then
	    --v.Name:match("KnifeSlash")
		remotes.Events:FireServer({pass,"Chatted","No more slashes for you.",Color3.new(1,0,0)})
		for i,v in pairs(workspace:GetDescendants()) do
			if v.Name:match("SlashProjectile") or v.Name == "BigStar" or v.Name == "SmallStar" or v.Name == "Removing" or v.Name:match("ChaosBuster") or v.Name:match("ShockerBreaker") or v.Name:match("Bone") or v.Name == "YellowBlast" or v.Name == "SlashEffect" then
				taskspawn(function()
					pcall(function()
						remotes.FriskMoves:InvokeServer({pass, "KnifeHit", v, v.CFrame, workspace.DodgingDummy });
					end)
				end)
			end
		end
		for i,v in pairs(rep:GetDescendants()) do
			if v.Name:match("SlashProjectile") or v.Name == "BigStar" or v.Name == "SmallStar" or v.Name == "Removing" or v.Name:match("ChaosBuster") or v.Name:match("ShockerBreaker") or v.Name:match("Bone") or v.Name == "YellowBlast" or v.Name == "SlashEffect" then
				taskspawn(function()
					pcall(function()
						remotes.FriskMoves:InvokeServer({pass, "KnifeHit", v, v.CFrame, workspace.DodgingDummy });
					end)
				end)
			end
		end
	elseif (i.KeyCode == Enum.KeyCode.One or i.KeyCode == Enum.KeyCode.Two or i.KeyCode == Enum.KeyCode.Three or i.KeyCode == Enum.KeyCode.Four) and lastAdded and realLast and fun and index then
		debug.setupvalue(fun,index,realLast)
		taskwait(0.005)
		debug.setupvalue(fun,index,lastAdded.Name)
	elseif i.KeyCode == Enum.KeyCode.KeypadOne and locked then
		if locked.Type.Value == "Frisk" then
			pcall(function()
				remotes.Events:FireServer({pass,"Damage","-nan(ind)",locked})
			end)
			remotes.Events:FireServer({pass,"Chatted","Good luck trying to level up now.",Color3.new(1,0,0)})
			for i=1,10 do
				taskspawn(function()
					remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
				end)
			end
		end
	elseif i.KeyCode == Enum.KeyCode.KeypadTwo and locked then
		if locked.Type.Value == "Frisk" then
			pcall(function()
				remotes.Events:FireServer({pass,"Damage",math.huge,locked})
			end)
			remotes.Events:FireServer({pass,"Chatted","Take some levels",Color3.new(1,1,1)})
			for i=1,10 do
				taskspawn(function()
					remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
				end)
			end

		end
	elseif i.KeyCode == Enum.KeyCode.KeypadThree then
		for i=1,10 do
			taskspawn(function()
				remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
			end)
		end
		for i,v in pairs(workspace:GetChildren()) do
			if v.Name ~= plr.Name and v:FindFirstChild("Type") and v.Type.Value == "Frisk" then
				pcall(function()
					remotes.Events:FireServer({pass,"Damage","-nan(ind)",v})
				end)
			end
		end
		remotes.Events:FireServer({pass,"Chatted","Suffer",Color3.new(1,0,0)})
	elseif i.KeyCode == Enum.KeyCode.KeypadFour then
		for i=1,10 do
			taskspawn(function()
				remotes.Functions:InvokeServer({pass, "PlaySound", rep.Resources.Sounds.Moves.PatienceAttack.Charge });
			end)
		end
		for i,v in pairs(workspace:GetChildren()) do
			if v.Name ~= plr.Name and v:FindFirstChild("Type") and v.Type.Value == "Frisk" then
				pcall(function()
					remotes.Events:FireServer({pass,"Damage",math.huge,v})
				end)
			end
		end
		remotes.Events:FireServer({pass,"Chatted","Enjoy",Color3.new(1,1,1)})
	end
end)

plr.CharacterAdded:Connect(onChar)

-- Sad part to overwrite cool remote

local l__Workspace__1 = game:GetService("Workspace");
local l__Players__2 = game:GetService("Players");
local l__Lighting__3 = game:GetService("Lighting");
local l__ReplicatedFirst__4 = game:GetService("ReplicatedFirst");
local l__UserInputService__5 = game:GetService("UserInputService");
local l__RunService__6 = game:GetService("RunService");
local v7 = require(game:GetService("ReplicatedStorage").RegionModule);
local l__Remotes__8 = game.ReplicatedStorage:WaitForChild("Remotes");
local v9 = require(game.ReplicatedStorage.ClientModules.MainModule);
local v10 = require(game.ReplicatedStorage.CameraShaker);
local v11 = v10.new(Enum.RenderPriority.Camera.Value, function(p1)
	workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * p1;
end);
v11:Start();
local l__LocalPlayer__12 = l__Players__2.LocalPlayer;
local l__mouse__13 = l__LocalPlayer__12:GetMouse();
function TransparentText(p3, p4)
	v9.CreateTween(p3, { 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
		TextTransparency = p4
	}, true);
end;
l__Remotes__8.InvokeClient.OnClientInvoke = function(p5)
	local v14 = p5[1];
	if v14 == "Challenged" then
		local l__ChallengeInfo__15 = l__LocalPlayer__12.PlayerGui.UI.Ui.ChallengeInfo;
		local l__Info__16 = l__ChallengeInfo__15.Info;
		local l__Accept__17 = l__ChallengeInfo__15.Accept;
		local l__Decline__18 = l__ChallengeInfo__15.Decline;
		l__Info__16.Text = p5[2].Name .. " has challenged you";
		l__Info__16.Transparency = 1;
		TransparentText(l__Info__16, 0);
		l__Accept__17.Transparency = 1;
		TransparentText(l__Accept__17, 0);
		l__Decline__18.Transparency = 1;
		TransparentText(l__Decline__18, 0);
		l__Info__16.Visible = true;
		l__Accept__17.Visible = true;
		l__Decline__18.Visible = true;
		local u1 = nil;
		local v19 = l__Decline__18.Activated:Connect(function()
			u1 = "Declined";
		end);
		while true do
			task.wait();
			if u1 ~= nil then
				break;
			end;
			if not l__LocalPlayer__12.Character then
				break;
			end;
			if l__LocalPlayer__12.Character and not l__LocalPlayer__12.Character:FindFirstChild("Challenger") then
				break;
			end;		
		end;
		l__Accept__17.Activated:Connect(function()
			u1 = "Accepted";
		end):disconnect();
		v19:disconnect();
		TransparentText(l__Info__16, 1);
		TransparentText(l__Accept__17, 1);
		TransparentText(l__Decline__18, 1);
		if u1 ~= nil then
			return u1;
		end;
	end;
	if v14 == "SpawnModel" then
		local v20 = p5[2]:Clone();
		v20:SetPrimaryPartCFrame(p5[3]);
		v20.Parent = workspace;
	elseif v14 == "RemoveModel" then
		local v21 = p5[2];
		if workspace:FindFirstChild(v21) then
			workspace:FindFirstChild(v21):Destroy();
		end;
	end;
	if v14 == "GetTouched" then
		local v22 = p5[2];
		local v23 = p5[4];
		if v23 then
			v22 = v23.CFrame;
		end;
		local v24 = {};
		for v25, v26 in pairs(workspace:GetChildren()) do
			if v26:FindFirstChild("Torso") and v26.Name ~= l__LocalPlayer__12.Name then
				table.insert(v24, v26.Torso);
			end;
		end;
		local casted = v7.new(v22, p5[3]):cast2(v24);
		if locked then
			table.insert(casted,locked.Torso)
		end
		if not plr.Character:FindFirstChild("Aura") then
			for i, v in pairs(workspace:GetChildren()) do
				if v:FindFirstChild("Torso") and v.Name ~= l__LocalPlayer__12.Name and (v.HumanoidRootPart.Position - plr.Character.HumanoidRootPart.Position).Magnitude <= 10 then
					table.insert(casted, v.Torso)
				end
			end
		else
			for i, v in pairs(workspace:GetChildren()) do
				if v:FindFirstChild("Torso") and v.Name ~= l__LocalPlayer__12.Name and (v.HumanoidRootPart.Position - plr.Character.HumanoidRootPart.Position).Magnitude <= 70 then
					table.insert(casted, v.Torso)
				end
			end
			if locked then
				for i, v in pairs(workspace:GetChildren()) do
					if v:FindFirstChild("Torso") and v.Name ~= l__LocalPlayer__12.Name and (v.HumanoidRootPart.Position - locked.HumanoidRootPart.Position).Magnitude <= 15 then
						table.insert(casted, v.Torso)
					end
				end
			end
		end
		return casted
	end
	if v14 == "getRootPartCF" then
		return l__LocalPlayer__12.Character.HumanoidRootPart.CFrame;
	end;
	if v14 == "GetTouchedPlayer" then
		local v27 = false;
		for v28, v29 in pairs(v7.new(p5[2], p5[3]):cast2({ l__LocalPlayer__12.Character.Torso })) do
			v27 = true;
		end;
		return { v27, l__LocalPlayer__12.Character:FindFirstChild("Humanoid").MoveDirection };
	end;
	if v14 == "Shake" then
		v11:Shake(v10.Presets[p5[2]]);
	end;
	if v14 == "GetTouchedNPCTouched" then
		local v36 = p5[2];
		local v37 = {};
		for v38, v39 in pairs(workspace:GetChildren()) do
			if v39:FindFirstChild("Torso") and v39.Name ~= l__LocalPlayer__12.Name and not game.Players:FindFirstChild(v39.Name) then
				table.insert(v37, v39.Torso);
			end;
		end;
		local u4 = p5[3];
		local l__RemoteEvent__5 = v36:WaitForChild("RemoteEvent");
		task.spawn(function()
			while v36.Parent and not v36:FindFirstChild("Cancel") do
				for i,v44 in pairs(v7.new(v36.CFrame, v36.Size):cast2(v37)) do
					if u4 == "Blue" and v44.Parent.Humanoid.MoveDirection.X == 0 and v44.Parent.Humanoid.MoveDirection.Y == 0 and v44.Parent.Humanoid.MoveDirection.Z == 0 then
						return;
					end;
					if u4 == "Orange" and v44.Parent.Humanoid.MoveDirection.X > 0 then
						return;
					end;
					if u4 == "Orange" and v44.Parent.Humanoid.MoveDirection.X < 0 then
						return;
					end;
					if u4 == "Orange" and v44.Parent.Humanoid.MoveDirection.Z < 0 then
						return;
					end;
					if u4 == "Orange" and v44.Parent.Humanoid.MoveDirection.Z > 0 then
						return;
					end;
					l__RemoteEvent__5:FireServer(v44.Parent);				
				end;
				task.wait(0.05);			
			end;
		end);
	end;
	if v14 == "GetTouchedNPC" then
		local v45 = p5[4];
		local v46 = false;
		for v47, v48 in pairs(v7.new(p5[2], p5[3]):cast2({ v45.Torso })) do
			v46 = true;
		end;
		return { v46, v45:FindFirstChild("Humanoid").MoveDirection };
	end;
	if v14 == "getMousePos" then
		local l__Torso__49 = l__LocalPlayer__12.Character.Torso;
		local l__LockOn__50 = l__LocalPlayer__12.Backpack.Main.LockOnScript.LockOn;
		if l__LockOn__50.Value then
			return l__LockOn__50.Value.Torso.CFrame.p;
		else
			return l__mouse__13.Hit.p;
		end;
	end;
	if v14 == "GetPartCFrame" then
		return p5[2].CFrame;
	end;
	if v14 == "EditMusic" then
		if l__LocalPlayer__12.PlayerScripts:FindFirstChild("Music") then
			l__LocalPlayer__12.PlayerScripts.Music[p5[2]]:Fire(p5[3])
		else
			task.wait(99999999999999999999)
		end
	end;
	if v14 ~= "DieScreen" then
		if v14 == "CharacterSelection" then
			local v51 = l__LocalPlayer__12.PlayerScripts.FireClient.CharacterSelection:Clone();
			v51.Parent = l__LocalPlayer__12.PlayerGui;
			while true do
				task.wait();
				if v51:WaitForChild("Character").Value ~= "" then
					break;
				end;			
			end;
			local l__Value__52 = v51:WaitForChild("Character").Value;
			task.spawn(function()
				task.wait(1);
				v51:Destroy();
			end);
			return l__Value__52;
		else
			return;
		end;
	end;
	l__LocalPlayer__12.PlayerScripts:WaitForChild("Music").Stop:Fire();
	l__LocalPlayer__12.PlayerGui.GameOver.Enabled = true;
	for v53 = 1, 0, -0.1 do
		l__LocalPlayer__12.PlayerGui.GameOver.Frame.BackgroundTransparency = v53;
		task.wait();
	end;
	if l__LocalPlayer__12.Character:FindFirstChild("GetDunkedOn") then
		l__LocalPlayer__12.PlayerGui.GameOver.Sound2:Play();
	else
		l__LocalPlayer__12.PlayerGui.GameOver.Sound:Play();
	end;
	for v54 = 1, 0, -0.1 do
		l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.ImageTransparency = v54;
		task.wait();
	end;
	task.wait(0.5);
	l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel.Script.Disabled = false;
	while true do
		task.wait();
		if l__LocalPlayer__12.Character:FindFirstChild("Confirmed") then
			break;
		end;	
	end;
	l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel.Script.Disabled = true;
	l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel.Text = "";
	l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel2.Text = "";
	for v55 = 0, 1, 0.1 do
		l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.ImageTransparency = v55;
		l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel.TextTransparency = v55;
		l__LocalPlayer__12.PlayerGui.GameOver.Frame.ImageLabel.TextLabel2.TextTransparency = v55;
		task.wait();
	end;
	task.wait(1);
	l__LocalPlayer__12.PlayerGui.GameOver.Sound:Stop();
	l__LocalPlayer__12.PlayerScripts.Music.Resume:Fire();
	return true;
end;




local function getchar()
local protection = game.Players.LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value
return protection
end        


task.spawn(function()
function hakai()
local protection = getchar()
if protection == nil then
print("lock onto someone")
else
local Hakai = 
			{
				[1] = getrenv()._G.Pass, 
				[2] = "Chatted", 
				[3] = "[ACT] = Skid:Destroy() ", 
				[4] = Color3.new(1, 0, 0)
			}
		local Event = game:GetService("ReplicatedStorage").Remotes.Events
		Event:FireServer(Hakai)
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://3733309848"
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
            local A_1 = getrenv()._G.Pass
            local A_2 = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value
            local A_3 = 
                {
                    ["HitTime"] = 1, 
                    ["Type"] = "Normal", 
                    ["HitEffect"] = "LightHitEffect", 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["Velocity"] = Vector3.new(0, 0.000001, 0),
                    ["CombatInv"] = true,
                    ["Effect"] = "HiReset",
                    ["BlockAble"] = false,
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Knockback, 
                    ["Damage"] = 0
                }
            local Event = game:GetService("ReplicatedStorage").Remotes.Damage
            Event:InvokeServer(A_1, A_2, A_3)
end
end
end)

task.spawn(function()
function beatdownattack()
local protection = getchar()
if protection == nil then
print("lock onto someone")
else
local CameraShaker = require(game.ReplicatedStorage.ClientModules.CameraShaker)

local camera = game.Workspace.CurrentCamera

local camShake = CameraShaker.new(Enum.RenderPriority.Camera.Value, function(shakeCf)
    camera.CFrame = camera.CFrame * shakeCf
end)

camShake:Start()

local DreamIsCool = getrenv()._G.Pass
local lockonval = game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value
local hurtanim = game:GetService("ReplicatedStorage").Animations.HurtAnimations
local hurtsound = game:GetService("ReplicatedStorage").Sounds
local lookvec = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector


function attackremote(htime, atype, heffect, hanim, sounde, vel, dmg)
local f1 = DreamIsCool local f2 = lockonval local f3 = { ["HitTime"] = htime,["Type"] = atype,["HitEffect"] = heffect,["HurtAnimation"] = hanim,["Velocity"] = vel,["CombatInv"] = true,["Effect"] = "SussyDmg",["BlockAble"] = false,["Sound"] = sounde, ["Damage"] = dmg}local Event = game:GetService("ReplicatedStorage").Remotes.Damage Event:InvokeServer(f1,f2,f3)
end



local sound = Instance.new("Sound",game.Players.LocalPlayer.Backpack)
sound.SoundId = getcustomasset('Nanomachines_son.ogg')
sound.Name = "Beatdown"
sound.Looped = false
sound.Volume = 5
sound:Play()

function ExtraEffects()
for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
v:Fire({"Model","SpeedLines",game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame})
end
end


local barrage = {game:GetService("ReplicatedStorage").Sounds.SwordSlash, game:GetService("ReplicatedStorage").Sounds.Knockback}

game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.HitAmount.Visible = false
game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.DamageAmount.Visible = false
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame * CFrame.new(0,0,-4)
game.Workspace.Camera.CameraType = "Fixed"
game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.HealthBar.Frame.Health.BackgroundColor3 = Color3.fromRGB(255,0,0)
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.HealthBar.Frame.HealthLabel.Text = "0/0"
for i = 1,56 do
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://4800436094"
local punch = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
punch:Play();
punch:AdjustSpeed(1.3)
punch.TimePosition = 0.5
camShake:Shake(CameraShaker.Presets.Explosion)
attackremote(1,"Normal","BurstEffect",hurtanim.Hurt1,barrage,lookvec * 0.001 ,0)
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.DamageShower.Gui.TextLabel.Text = "-Inf"
ExtraEffects()
attackremote(1,"Normal","BurstEffect",hurtanim.Hurt3,barrage,lookvec * -0.001 ,0)
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.DamageShower.Gui.TextLabel.Text = "-Inf"
ExtraEffects()
end
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://7010180056"
local slap = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
slap:Play();
wait(0.2)
attackremote(1,"Normal","BurstEffect",hurtanim.GutHurt,barrage,lookvec * 0.001 + Vector3.new(0,5,0),0)
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.DamageShower.Gui.TextLabel.Text = "-Inf"
wait(0.3)
slap:Stop()
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://8084482492"
local punch = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
punch:Play();
wait(0.5)
game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.Damage.Value = 99999999999999999999999
game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.Hits.Value = 99999999999999999999999
attackremote(1,"Knockback","BiggerBurstEffect",hurtanim.GutHurt,barrage,lookvec * 70,"nan")
game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.DamageAmount.Text = "Inf"
game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Head.DamageShower.Gui.TextLabel.Text = "-Inf"
camShake:Shake(CameraShaker.Presets.BigExplosion)
for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
v:Fire({"Model","BigWindEffect",game.Players.LocalPlayer.Character["Right Arm"].CFrame})
end
for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
v:Fire({"Model","SpeedLines",game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame})
end

game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.HitAmount.Visible = true
game:GetService("Players").LocalPlayer.PlayerGui.UI.Ui.DamageShower.DamageAmount.Visible = true
game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
game.Workspace.Camera.CameraType = "Custom"
game.Players.LocalPlayer.Backpack.Beatdown:Destroy()
end
end
end)

task.spawn(function()
function glowingstuff()
funny = game.Players.LocalPlayer.Character.BettySythe.BettySythe
for _,v in pairs(funny:GetDescendants()) do
if v.Name == 'Grow' or v.Name == 'Grow2' then
v:Destroy()
end
end


for _,v in pairs(funny:GetDescendants()) do
if v.Name == 'Special1' or  v.Name == 'Special2' or v.Name == 'ParticleEmitter' then
v.Enabled = true
end
end

--[[for _,v in pairs(funny:GetDescendants()) do
if v.Name == 'BlackLightning' then
v.Enabled = true
v.LockedToPart = false
end
end]]

game.Players.LocalPlayer.Character.BettySythe.BettySythe.Color = Color3.fromRGB(255,0,0)

for _,v in pairs(funny:GetDescendants()) do
if v.Name == 'Special1' or  v.Name == 'Special2' or v.Name == 'ParticleEmitter' then
v.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 0, 0)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(252, 66, 109))}
end
end

end
end)


local UIS = game:GetService("UserInputService")
local Mouse = game.Players.LocalPlayer:GetMouse()

UIS.InputBegan:Connect(function(input, IsTyping)
    if IsTyping then return end 
    if input.KeyCode == Enum.KeyCode.X then
    glowingstuff()
    end
end)


UIS.InputBegan:Connect(function(input, IsTyping)
    if IsTyping then return end 
    if input.KeyCode == Enum.KeyCode.C then
    beatdownattack()
    end
end)

UIS.InputBegan:Connect(function(input, IsTyping)
    if IsTyping then return end 
    if input.KeyCode == Enum.KeyCode.V then
    hakai()
    end
end)

local usingthing = false

UIS.InputBegan:Connect(function(input, IsTyping)
    if IsTyping then return end 
    if input.KeyCode == Enum.KeyCode.B then
        if not usingthing then
            usingthing = true
            remotes.Events:FireServer({pass,"Chatted","[!]\n[Skipping to final form]\n\n                          + Immortality",Color3.new(1,0,0)})
            remotes.Functions:InvokeServer({pass, "Reset"})
            createAura()
            createRandoms()
        end
    end
end)

local d1 = {game:GetService("ReplicatedStorage").Sounds.Stare2, game:GetService("ReplicatedStorage").Sounds.Stare}
local d2 = {game:GetService("ReplicatedStorage").Sounds.Crack, game:GetService("ReplicatedStorage").Sounds.ChaosSaber2}

local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "7" then
local A_1 =  {
          [1] = getrenv()._G.Pass, 
          [2] = "Chatted", 
          [3] = "Stay out of my way.",
          [4] = Color3.fromRGB(255,0,0)
    }
    local Event = game:GetService("ReplicatedStorage").Remotes.Events
    Event:FireServer(A_1)
local animation = Instance.new("Animation")
animation.AnimationId = "rbxassetid://9326843694"
local anim = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(animation)
anim:Play()
wait(0.3)
local args = {
[1] = getrenv()._G.Pass,
[2] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value,
[3] = {
["Type"] = "Normal",
["HitEffect"] = "HeavyHitEffect",
["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2,
["HitTime"] = 1,
["Velocity"] = Vector3.new(0,0,0.01),
["CombatInv"] = true,
["Sound"] = d1,
["BlockAble"] = false,
["Effect"] = "stare",
["Damage"] = 0
}
}
game:GetService("ReplicatedStorage").Remotes.Damage:InvokeServer(unpack(args))
local args = {
[1] = getrenv()._G.Pass,
[2] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value,
[3] = {
["Type"] = "Normal",
["HitEffect"] = "HeavyHitEffect",
["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2,
["HitTime"] = 1,
["Velocity"] = Vector3.new(0,0,0.01),
["CombatInv"] = true,
["Sound"] = d2,
["BlockAble"] = false,
["Effect"] = "Lol",
["Damage"] = 0
}
}
game:GetService("ReplicatedStorage").Remotes.Damage:InvokeServer(unpack(args))
local args = {
[1] = getrenv()._G.Pass,
[2] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value,
[3] = {
["Type"] = "Knockback",
["HitEffect"] = "HeavyHitEffect",
["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.GrabbedLeg1,
["HitTime"] = 1,
["Velocity"] = Vector3.new(0,5,0),
["Position"] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Torso.Position + Vector3.new(0,20,0),
["CombatInv"] = true,
["Sound"] = game:GetService("ReplicatedStorage").Sounds.HateExplosion,
["BlockAble"] = false,
["Effect"] = "Lol",
["Damage"] = 0
}
}
game:GetService("ReplicatedStorage").Remotes.Damage:InvokeServer(unpack(args))
end
end)


function talk(msg)
    local A_1 =  {
          [1] = getrenv()._G.Pass, 
          [2] = "Chatted", 
          [3] = msg,
          [4] = Color3.fromRGB(255,0,0)
    }
    local Event = game:GetService("ReplicatedStorage").Remotes.Events
    Event:FireServer(A_1)
end

function shoot()
local A_1 = 
{
	[1] = getrenv()._G.Pass, 
	[2] = "GunShot", 
	[3] = "Light", 
	[4] = game.Players.LocalPlayer.Character['Right Arm'].CFrame * CFrame.new(0, -0.4, 0)
}
game:GetService("ReplicatedStorage").Remotes.FriskMoves:InvokeServer(A_1)
end
function heavyshoot()
local A_1 = 
{
	[1] = getrenv()._G.Pass, 
	[2] = "GunShot", 
	[3] = "Heavy", 
	[4] = game.Players.LocalPlayer.Character['Right Arm'].CFrame * CFrame.new(0, -0.4, 0)
}
game:GetService("ReplicatedStorage").Remotes.FriskMoves:InvokeServer(A_1)
end

function playanim(animationthing)
local Anim = Instance.new("Animation")
Anim.AnimationId = animationthing
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
end


timestop = settings().Network
timestop.IncomingReplicationLag = 0
local Effect = Instance.new("ColorCorrectionEffect")
Effect.Parent = game.Lighting
Effect.Saturation = -3
Effect.Brightness = 0
Effect.Contrast = 0
lolz = false
Effect.Enabled = false

function onKeyPress(inputObject, gameProcessedEvent)
if inputObject.KeyCode == Enum.KeyCode.Eight then
spawn(function()
if lolz == false then
talk("[!]\n{Time Stop}\n\n       -{[Flowing Time]}-")
wait(0.3)
timestop.IncomingReplicationLag = 1000
Effect.Enabled = true
lolz = true
else
talk("[!]\n{Time Resume}\n\n       -{[It's time for your downfall..]}-")
lolz = false
timestop.IncomingReplicationLag = 0
Effect.Enabled = false
lolz = false
end
end)
end
end
game:GetService("UserInputService").InputBegan:connect(onKeyPress)
--[[
spawn(function()
local uis = game:GetService("UserInputService")
while true do
    if uis.MouseBehavior ~= Enum.MouseBehavior.Default then
        uis.MouseBehavior = Enum.MouseBehavior.Default
    end
    task.wait(.01)
end
end)]]
mouse.KeyDown:Connect(function(k) 
	if k == "0" then
local args = {
[1] = getrenv()._G.Pass,
[2] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value,
[3] = {
["Type"] = "Knockback",
["HitEffect"] = "HeavyHitEffect",
["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.SleepingSans,
["HitTime"] = 1,
["Velocity"] = Vector3.new(0,5,0),
["Position"] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Torso.Position + Vector3.new(0,0,-1),
["CombatInv"] = true,
["Sound"] = game:GetService("ReplicatedStorage").Sounds.ChaosSaberSuccess,
["BlockAble"] = false,
["Effect"] = "Lol",
["Damage"] = "nan"
}
}
game:GetService("ReplicatedStorage").Remotes.Damage:InvokeServer(unpack(args))
end
end)
mouse.KeyDown:Connect(function(k) 
	if k == "0" then
char = game.Players.LocalPlayer.Character
spawn(function()
    repeat wait()
        for _,v in pairs(char:GetChildren()) do
        if v.Name:match("netOwner") or v.Name == 'Lasso' or v.Name == 'ShortWhieScreen' or v.Name == 'KnockbackSmoke' or v.Name:match('Server') or v.Name == "Server" then
            v:Destroy()
        end
        end
    until false
end)
spawn(function()
while wait() do
for i,v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
if v.Name == "LockOn" then
local weld = v:FindFirstChild("Weld")
if weld then weld:Destroy() end
end
end
end
end)
local player = game.Players.LocalPlayer
pcall(function() for _,v in pairs(_G.con) do pcall(function()local v = v v:Disconnect() end) end end)
_G.con = {}
local char = player.Character or player.CharacterAdded:wait()
local function yes()
    local UIS = game:GetService("UserInputService")
  local LockOn = player.Backpack:WaitForChild('Main'):WaitForChild('LockOnScript'):WaitForChild('LockOn')
local ea;ea = LockOn:GetPropertyChangedSignal('Value'):Connect(function()
    game['Run Service'].Heartbeat:wait()
UIS.MouseBehavior = Enum.MouseBehavior.Default
end)
local aa;aa = LockOn.AncestryChanged:Connect(function()
ea:Disconnect();aa:Disconnect()
end)
table.insert(_G.con,ea);table.insert(_G.con,aa)
end
yes()
local ee = player.CharacterAdded:Connect(function(char)
   yes() 
end)
table.insert(_G.con,ee)
end
end)
local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "-" then
game.Players.LocalPlayer.Chatted:connect(function(p4) game.ReplicatedStorage.Remotes.Events:FireServer({ getrenv()._G.Pass, "Chatted", p4, Color3.new(1, 1, 1) }); end);
end
end)
mouse.KeyDown:Connect(function(k) 
	if k == "=" then
	    if niko then 
local spacing = [[ 
]]
   local mt = getrawmetatable(game)
    local backup = mt.__namecall
    if setreadonly then setreadonly(mt, false) else make_writeable(mt, true) end
    
    mt.__namecall = newcclosure(function(...)
        local method = getnamecallmethod()
        local args = {...}
        if tostring(args[1]) == "Events" and tostring(args[2][2]) == 'Chatted' then
    msgg = tostring(args[2][3])
    args[2][3] = '</[Niko]\>*:'..spacing..msgg
            return backup(unpack(args)) -- return the modified remote so it goes as how you wish
        end
        return backup(...)
    end)
    else
        local spacing = [[ 
]]
   local mt = getrawmetatable(game)
    local backup = mt.__namecall
    if setreadonly then setreadonly(mt, false) else make_writeable(mt, true) end
    
    mt.__namecall = newcclosure(function(...)
        local method = getnamecallmethod()
        local args = {...}
        if tostring(args[1]) == "Events" and tostring(args[2][2]) == 'Chatted' then
    msgg = tostring(args[2][3])
    args[2][3] = '</[Average NAN Enjoyer]\>*:'..spacing..msgg
            return backup(unpack(args)) -- return the modified remote so it goes as how you wish
        end
        return backup(...)
    end)
    end
end
end)


Reflection = false
mouse.KeyDown:Connect(function(k) 
	if k == "," then
if Reflection == false then
Reflection = true
remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          + Projectile Reflection",Color3.new(1,0,0)})
spawn(function()
while Reflection == true do
wait()
for i,v in pairs(workspace:GetDescendants()) do
    if v.Name:match("SlashProjectile") or v.Name == "BigStar" or v.Name == "SmallStar" or v.Name == "Removing" or v.Name:match("KnifeSlash") or v.Name:match("ChaosBuster") or v.Name:match("ShockerBreaker") or v.Name:match("Bone") or v.Name == "YellowBlast" then
        taskspawn(function()
            pcall(function()
                remotes.FriskMoves:InvokeServer({pass, "KnifeHit", v, v.CFrame, workspace.DodgingDummy });
            end)
        end)
    end
end
end
end)
elseif Reflection == true then
Reflection = false
remotes.Events:FireServer({pass,"Chatted","[!]\n\n\n                          - Projectile Reflection",Color3.new(1,1,1)})
end
end
end)




function playanim(animationthing)
local Anim = Instance.new("Animation")
Anim.AnimationId = animationthing
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
end
mouse.KeyDown:Connect(function(k) 
	if k == "5" then
playanim("rbxassetid://8698223060")
end
end)

mouse.KeyDown:Connect(function(k) 
	if k == "6" then
playanim("rbxassetid://9553544133")
end
end)

mouse.KeyDown:Connect(function(k) 
	if k == "`" then
playanim("rbxassetid://3295283417")
end
end)
--[[
funnyuse = false
local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "." then
if not funnyuse then
funnyuse = true
spawn(function() plr.Character.Head.ChildAdded:Connect(function(v) if v.Name == "LevelUp" and v:IsA("Audio") then v:Destroy() end end) end)
spawn(function() plr.Character.Effects.ChildAdded:Connect(function(v) if v.Name == "Cloned" then v:Destroy() end end) end)
end
end
end)]]

local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "." then
local Player = game.Players.LocalPlayer
local Char = Player.Character
local Humanoid = Char.Humanoid

local RS = game:GetService("ReplicatedStorage")
local TS = game:GetService("TweenService")

local MainModule = require(RS.ClientModules.MainModule)
local Knife = Char["RealKnife"]

RS.Remotes.Functions:InvokeServer({getrenv()._G.Pass, "TakeStamina", 50})
--RS.Remotes.CharaMoves:InvokeServer({getrenv()._G.Pass, "KnifeColor", "ChangeColor", Color3.new(1,0,0), 0.2})
task.spawn(function()
    for i = 1,3 do
        local SpecialHellAnim = Humanoid:LoadAnimation(RS.Animations.MoveAnimations["SpecialHell"..tostring(i)])
        SpecialHellAnim:Play()
        if i == 1 then
            local ChargeSound = RS.Resources.Sounds.Moves.PatienceAttack.Charge:Clone()
            ChargeSound.Parent = Char.HumanoidRootPart
            ChargeSound:Play()
            game.Debris:AddItem(ChargeSound, 5)
            task.delay(0.75,function()
                RS.Remotes.Events:FireServer({getrenv()._G.Pass, "Chatted", "Welcome to my special hell.", Color3.new(1, 0, 0)})
                local LaughSound = RS.Resources.Sounds.Moves.SpecialHell2.Laugh:Clone()
                LaughSound.Parent = Char.HumanoidRootPart
                LaughSound:Play()
                game.Debris:AddItem(LaughSound, 5)
                local ChargeSound2 = RS.Resources.Sounds.Moves.SpecialHell2.Charge:Clone()
                ChargeSound2.Parent = Char.HumanoidRootPart
                ChargeSound2:Play()
                game.Debris:AddItem(ChargeSound2, 15)
                for i,v in pairs(Knife.Blade:GetChildren()) do
                    if v:IsA("ParticleEmitter") and v.Name == "SpecialHell" then
                        v.Enabled = true
                    end
                end
            end)
        elseif i == 3 then
            Knife.Blade.KnifeBurst:Emit(30)
        end
        task.wait(1)
        if i < 3 then
            SpecialHellAnim:Stop()
        end
    end
end)
local SHDarkness = RS.Resources.MoveEffects.SpecialHell2["SpecialHellDarkness"]:Clone()
SHDarkness:SetPrimaryPartCFrame(Char.HumanoidRootPart.CFrame)
SHDarkness.Parent = Char
for i,v in pairs(SHDarkness:GetChildren()) do
    if v:IsA("BasePart") then
        task.spawn(function()
            local t1 = TS:Create(v, TweenInfo.new(0.25), {Size = v.Size + Vector3.new(3, 3, 3)})
            t1:Play()
            t1.Completed:Wait()
            local t2 = TS:Create(v, TweenInfo.new(0.25, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out), {Size = v.Size + Vector3.new(7, 7, 7)})
            t2:Play()
        end)
    end
end
for i,v in pairs(SHDarkness:GetChildren()) do
    if v:IsA("BasePart") then
        task.delay(1.15,function()
            TS:Create(v, TweenInfo.new(1.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Position = Knife.Blade.Position, Transparency = 1, Size = Vector3.new(0, 0, 0)}):Play()
        end)
    end
end

spawn(function()
wait(1)
game.Players.LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.Size = Vector3.new(9999, 99999, 9999)
active = true
spawn(function()
while active do
player = game.Players.LocalPlayer
char = player.Character
for _,v in pairs(char:GetDescendants()) do
if v.Name == 'WarningSans' or v.Name == "XEventStart" or v.Name == "Dash" or v.Name == "Knife_Slash" or v.Name == "Cloned" or v.Name == "Knife_Slash2" or v.Name == "AreaAttackBurst" or v.Name == "SlashEffect" or v.Name == "KnifeHit2" or v.Name == "BurstEffect" or v.Name == "Wind" then
v:Destroy()
end
end
task.wait()
end
end)
local args = {
    [1] = {
        [1] = getrenv()._G.Pass,
        [2] = "RealKnifeBigSlash"
    }
}

game:GetService("ReplicatedStorage").Remotes.FriskMoves:InvokeServer(unpack(args))
wait(4)
active = false
game.Players.LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.Size = Vector3.new(1.6, 1.6, 0.8)
end)
task.wait(3)
SHDarkness:Destroy()

local function raycastDebris(startpos: Vector3, endpos: Vector3)
    local Params = RaycastParams.new()
    Params.FilterDescendantsInstances = {Char, workspace.ServerEffects}
    Params.FilterType = Enum.RaycastFilterType.Blacklist

    local raycastResult = workspace:Raycast(startpos, endpos, Params)
    if raycastResult then
        local hit = raycastResult.Instance
        if hit:IsA("BasePart") then
            local part = Instance.new("Part")
            part.Anchored = true
            part.CanCollide = false
            part.CanQuery = false
            part.Massless = true
            part.Size = Vector3.one * math.random(10,15)
            part.CFrame = CFrame.new(raycastResult.Position + Vector3.new(0,-part.Size.Y/2.,0)) * CFrame.Angles(math.rad(math.random(-180, 180)), math.rad(math.random(-180, 180)), math.rad(math.random(-180, 180)))
            part.Transparency = 1
            part.Color = hit.Color
            part.Material = hit.Material
            part.Parent = Char.Effects
            TS:Create(part, TweenInfo.new(1), {Position = part.Position + Vector3.new(0,part.Size.Y/2,0), Transparency = hit.Transparency}):Play()
            if math.random(1,10) == 1 then
                local part2 = part:Clone()
                part2.Anchored = false
                part2.CanCollide = true
                part2.Size = part2.Size / 2
                part2.Transparency = workspace.ServerEffects
                part2.Position = part2.Position + Vector3.new(0,part.Size.Y/2,0)
                part2.Parent = workspace.ServerEffects
                game.Debris:AddItem(part2, 5)
                local bv = Instance.new("BodyVelocity")
                bv.MaxForce = Vector3.one * 100000
                bv.P = math.huge
                bv.Velocity = (part2.Position + Vector3.new(math.random(-25,25),50,math.random(-25,25)) - part2.Position).Unit * 120
                bv.Parent = part2
                game.Debris:AddItem(bv, 0.25)
            end
            task.delay(2,function()
                TS:Create(part, TweenInfo.new(1), {Position = part.Position + Vector3.new(0,-part.Size.Y/2,0), Transparency = 1, Size = Vector3.new(0,0,0)}):Play()
                game.Debris:AddItem(part, 1)
            end)
        end
    end
end

local FireSound = RS.Resources.Sounds.Moves.SpecialHell2.Fire:Clone()
FireSound.Parent = Char.HumanoidRootPart
FireSound:Play()
game.Debris:AddItem(FireSound, 10)
local SHSlash = RS.Resources.MoveEffects.SpecialHell2["SpecialHellSlash"]:Clone()
SHSlash:SetPrimaryPartCFrame(Char.HumanoidRootPart.CFrame * CFrame.new(0,0,-5) * CFrame.Angles(0,math.rad(180),0))
SHSlash.Parent = Char
for i,v in pairs(SHSlash:GetChildren()) do
    if v.Name ~= "Base" then
        v.Anchored = false
        v.Size = v.Size * 10
        v.Transparency = 0
        local weld = Instance.new("WeldConstraint")
        weld.Part0 = v
        weld.Part1 = SHSlash.PrimaryPart
        weld.Parent = v
    end
end
task.spawn(function()
    repeat
        MainModule.shakeScreen("Explosion")
        SHSlash:SetPrimaryPartCFrame(SHSlash.PrimaryPart.CFrame * CFrame.new(0,0,1.5))
        raycastDebris((SHSlash.PrimaryPart.CFrame * CFrame.new(20,10,0)).Position, Vector3.new(0, -100, 0))
        raycastDebris((SHSlash.PrimaryPart.CFrame * CFrame.new(-20,10,0)).Position, Vector3.new(0, -100, 0))
        task.wait()
    until SHSlash.Parent == nil
end)
game.Debris:AddItem(SHSlash, 5)
--RS.Remotes.CharaMoves:InvokeServer({getrenv()._G.Pass, "KnifeColor", "Reverse"})
for i,v in pairs(Knife.Blade:GetChildren()) do
    if v:IsA("ParticleEmitter") and v.Name == "SpecialHell" then
        v.Enabled = false
    end
end
end
end)

local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "'" then
local Player = game.Players.LocalPlayer
local Char = Player.Character
local Humanoid = Char.Humanoid

local RS = game:GetService("ReplicatedStorage")
local TS = game:GetService("TweenService")

local function anchorChar(bool)
    local bp = {
        "Head", 
        "Torso", 
        "Left Arm", 
        "Right Arm", 
        "Left Leg", 
        "Right Leg"
    }
    for i,v in pairs(Char:GetChildren()) do
        if table.find(bp, v.Name) then
            v.Anchored = bool
        end
    end
end

local heartColor = Color3.fromRGB(0,0,0)
Humanoid:ChangeState(Enum.HumanoidStateType.Dead)
anchorChar(true)

for i,v in pairs(Char:GetDescendants()) do
    if v:IsA("BasePart") or v:IsA("Decal") then
        local oldTransparency = Instance.new("NumberValue")
        oldTransparency.Name = "OldTransparency"
        oldTransparency.Value = v.Transparency
        oldTransparency.Parent = v
        TS:Create(v, TweenInfo.new(1), {Transparency = 1}):Play()
    end
end
task.wait(1)
local Heart = RS.Resources.OtherEffects["Heart"]:Clone()
Heart.CFrame = Char.HumanoidRootPart.CFrame
Heart.Color = heartColor
Heart.Transparency = 0
--Heart.Attachment.ParticleEmitter.Enabled = true
Heart.Parent = Char
task.wait()
local oldCFrame1 = Heart.CFrame
local offset = 25
for i = 1,30 do
    Heart.CFrame = oldCFrame1 * CFrame.new(math.random(-offset,offset)/100,math.random(-offset,offset)/100,math.random(-offset,offset)/100)
    task.wait(0.025)
end
Heart.CFrame = oldCFrame1
Heart.Transparency = 1

local playerdeathSFX = RS.Resources.Sounds["Player_Death"]:Clone()
playerdeathSFX.TimePosition = 0.5
playerdeathSFX.Parent = Char.HumanoidRootPart
playerdeathSFX:Play()
game.Debris:AddItem(playerdeathSFX, 0.5)
local BrokenHeart = RS.Resources.OtherEffects["Broken_Heart"]:Clone()
BrokenHeart.CFrame = oldCFrame1
BrokenHeart.Color = heartColor
BrokenHeart.Parent = Char
task.wait(0.75)
for i = 1,40 do
    BrokenHeart.CFrame = oldCFrame1 * CFrame.new(math.random(-offset,offset)/100,math.random(-offset,offset)/100,math.random(-offset,offset)/100)
    task.wait(0.025)
end
BrokenHeart.CFrame = oldCFrame1
--task.wait(0.25)
BrokenHeart.Transparency = 1
Heart.Transparency = 0

RS.Remotes.Events:FireServer({getrenv()._G.Pass, "Chatted", "But it refused.", Color3.new(1, 0, 0)})
local pingSFX = RS.Sounds["Ping"]:Clone()
pingSFX.TimePosition = 0.25
pingSFX.Parent = Char.HumanoidRootPart
pingSFX:Play()
game.Debris:AddItem(pingSFX, 1)
local heartformSFX = RS.Sounds["HeartForm2"]:Clone()
heartformSFX.Parent = Char.HumanoidRootPart
heartformSFX:Play()
game.Debris:AddItem(heartformSFX, 1)
local FakeHeart = RS.Resources.OtherEffects["Heart"]:Clone()
FakeHeart.CFrame = oldCFrame1
FakeHeart.Color = Color3.fromRGB(255,0,0)
FakeHeart.Parent = Char

Heart.Attachment.ParticleEmitter.Enabled = true
task.delay(0.25,function()
    Heart.Attachment.ParticleEmitter.Enabled = false
end)

TS:Create(FakeHeart, TweenInfo.new(1), {Size = FakeHeart.Size * 2, Transparency = 1}):Play()
task.wait(1.5)
anchorChar(false)
Heart:Destroy()
BrokenHeart:Destroy()
FakeHeart:Destroy()
local sliceSFX = RS.Sounds.ChaosSaberSlice:Clone()
sliceSFX.PlaybackSpeed = 0.5
sliceSFX.Parent = Char.HumanoidRootPart
sliceSFX:Play()
game.Debris:AddItem(sliceSFX, 3)
Char.HumanoidRootPart.Anchored = false
Humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
for i,v in pairs(Char:GetDescendants()) do
    if (v:IsA("BasePart") or v:IsA("Decal")) and v:FindFirstChild("OldTransparency") then
        TS:Create(v, TweenInfo.new(1), {Transparency = v["OldTransparency"].Value}):Play()
        v["OldTransparency"]:Destroy()
    end
end
local invEffect = true
task.delay(2,function()
    invEffect = false
end)
task.spawn(function()
    while invEffect == true do
        for i,v in pairs(getconnections(RS.Remotes.Effects.OnClientEvent)) do
            v:Fire({"HighlightBody", Char, 0.2, Color3.new(1,1,1), 0.5, nil, nil, nil, nil})
        end
        task.wait(0.4)
    end
end)
end
end)

local p = print
local anim = Instance.new("Animation")
local counter -- don't remove
local t = true;local f = false
function attackcounter(timed,ctime,cid)
spawn(function()
anim.AnimationId = "rbxassetid://"..cid;local ani = plr.Character.Humanoid:LoadAnimation(anim);
    counter = plr.Character.Head.ChildAdded:Connect(function(child)
        if child.Name == "DamageShower" then
            arlol(1,"Knockback","LightHitEffect",hanim.GutHurt,ds,lookvec * 50,40)
            remotes.Functions:InvokeServer({pass, "Blocking", f})
            counter:Disconnect()
            ani:Stop()
        end
    end)
if timed then
    ani:Play()taskwait(ctime);ani:Stop();counter:Disconnect();remotes.Functions:InvokeServer({pass, "Blocking", f});
end
end)
end
local mouse = game.Players.LocalPlayer:GetMouse()
mouse.KeyDown:Connect(function(k) 
	if k == "[" then
taskspawn(function()
    local lookvec = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector
	remotes.Functions:InvokeServer({pass, "Blocking", t})
	attackcounter(t,5,"8692122621")
end)
end
end)
mouse.KeyDown:Connect(function(k) 
	if k == "`" then
local c = plr.Character
function shoot(ftype,pos)
local A_1 =  { [1] = getrenv()._G.Pass, [2] = "GunShot",  [3] = ftype,  [4] = pos} game:GetService("ReplicatedStorage").Remotes.FriskMoves:InvokeServer(A_1)
end
function FDEffect(ltype,effect,pos)
for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
v:Fire({ltype,effect,pos})
end
end
function bodypos(pos1,pos2,pos3)
local bp = Instance.new("BodyPosition")
bp.Name = "Client"
bp.Parent = c.HumanoidRootPart
bp.MaxForce = Vector3.new(1,1,1)*1000000
bp.D = 100
bp.P = 1000
bp.Position = c.HumanoidRootPart.CFrame*Vector3.new(pos1,pos2,pos3)
bp.ReachedTarget:Connect(function() bp:Destroy() end)
end
function playanim(id,speed,timepos)
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://"..id
local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
k:Play()
k:AdjustSpeed(speed)
k.TimePosition = timepos
end
bodypos(0,0,-2)
playanim("9553554972",-1,69)
shoot("Light",c['Right Arm'].CFrame * CFrame.new(0, -0.4, 0))
FDEffect("Model","WindEffect",c.HumanoidRootPart.CFrame)
FDEffect("Model","BurstEffect2",c.HumanoidRootPart.CFrame)
wait(0.5)
bodypos(0,0,10)
playanim("9553554972",1)
shoot("Heavy",c['Right Arm'].CFrame * CFrame.new(0, -0.4, 0))
FDEffect("Model","WindEffect",c.HumanoidRootPart.CFrame)
FDEffect("Model","BurstEffect2",c.HumanoidRootPart.CFrame)
end
end)